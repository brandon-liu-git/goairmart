{"ast":null,"code":"import React, { useState, forwardRef, useImperativeHandle, useRef } from 'react';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CloseCircleFill } from 'antd-mobile-icons';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nvar classPrefix = \"adm-input\";\nvar defaultProps = {\n  defaultValue: ''\n};\nexport var Input = /*#__PURE__*/forwardRef(function (p, ref) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue(props),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var _useState = useState(false),\n      hasFocus = _useState[0],\n      setHasFocus = _useState[1];\n\n  var nativeInputRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      clear: function clear() {\n        setValue('');\n      },\n      focus: function focus() {\n        var _a;\n\n        (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      blur: function blur() {\n        var _a;\n\n        (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n  });\n\n  var handleKeydown = function handleKeydown(e) {\n    var _a;\n\n    if (props.onEnterPress && (e.code === 'Enter' || e.keyCode === 13)) {\n      props.onEnterPress(e);\n    }\n\n    (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n  };\n\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: nativeInputRef,\n    className: classPrefix,\n    value: value,\n    onChange: function onChange(e) {\n      setValue(e.target.value);\n    },\n    onFocus: function onFocus(e) {\n      var _a;\n\n      setHasFocus(true);\n      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    onBlur: function onBlur(e) {\n      var _a;\n\n      setHasFocus(false);\n      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    id: props.id,\n    placeholder: props.placeholder,\n    disabled: props.disabled,\n    readOnly: props.readOnly,\n    maxLength: props.maxLength,\n    minLength: props.minLength,\n    max: props.max,\n    min: props.min,\n    autoComplete: props.autoComplete,\n    enterKeyHint: props.enterKeyHint,\n    pattern: props.pattern,\n    type: props.type,\n    autoCapitalize: props.autoCapitalize,\n    autoCorrect: props.autoCorrect,\n    onKeyDown: handleKeydown,\n    onKeyUp: props.onKeyUp\n  }), props.clearable && !!value && hasFocus && /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-clear\",\n    onMouseDown: function onMouseDown(e) {\n      e.preventDefault();\n    },\n    onClick: function onClick() {\n      var _a;\n\n      setValue('');\n      (_a = props.onClear) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  }, /*#__PURE__*/React.createElement(CloseCircleFill, null))));\n});","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/input/input.js"],"names":["React","useState","forwardRef","useImperativeHandle","useRef","usePropsValue","CloseCircleFill","withNativeProps","mergeProps","classPrefix","defaultProps","defaultValue","Input","p","ref","props","_usePropsValue","value","setValue","_useState","hasFocus","setHasFocus","nativeInputRef","clear","focus","_a","current","blur","handleKeydown","e","onEnterPress","code","keyCode","onKeyDown","call","createElement","className","onChange","target","onFocus","onBlur","id","placeholder","disabled","readOnly","maxLength","minLength","max","min","autoComplete","enterKeyHint","pattern","type","autoCapitalize","autoCorrect","onKeyUp","clearable","onMouseDown","preventDefault","onClick","onClear"],"mappings":"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","sourcesContent":["import React, { useState, forwardRef, useImperativeHandle, useRef } from 'react';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CloseCircleFill } from 'antd-mobile-icons';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nvar classPrefix = \"adm-input\";\nvar defaultProps = {\n  defaultValue: ''\n};\nexport var Input = /*#__PURE__*/forwardRef(function (p, ref) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue(props),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var _useState = useState(false),\n      hasFocus = _useState[0],\n      setHasFocus = _useState[1];\n\n  var nativeInputRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      clear: function clear() {\n        setValue('');\n      },\n      focus: function focus() {\n        var _a;\n\n        (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      blur: function blur() {\n        var _a;\n\n        (_a = nativeInputRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n  });\n\n  var handleKeydown = function handleKeydown(e) {\n    var _a;\n\n    if (props.onEnterPress && (e.code === 'Enter' || e.keyCode === 13)) {\n      props.onEnterPress(e);\n    }\n\n    (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n  };\n\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: nativeInputRef,\n    className: classPrefix,\n    value: value,\n    onChange: function onChange(e) {\n      setValue(e.target.value);\n    },\n    onFocus: function onFocus(e) {\n      var _a;\n\n      setHasFocus(true);\n      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    onBlur: function onBlur(e) {\n      var _a;\n\n      setHasFocus(false);\n      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    id: props.id,\n    placeholder: props.placeholder,\n    disabled: props.disabled,\n    readOnly: props.readOnly,\n    maxLength: props.maxLength,\n    minLength: props.minLength,\n    max: props.max,\n    min: props.min,\n    autoComplete: props.autoComplete,\n    enterKeyHint: props.enterKeyHint,\n    pattern: props.pattern,\n    type: props.type,\n    autoCapitalize: props.autoCapitalize,\n    autoCorrect: props.autoCorrect,\n    onKeyDown: handleKeydown,\n    onKeyUp: props.onKeyUp\n  }), props.clearable && !!value && hasFocus && /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-clear\",\n    onMouseDown: function onMouseDown(e) {\n      e.preventDefault();\n    },\n    onClick: function onClick() {\n      var _a;\n\n      setValue('');\n      (_a = props.onClear) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  }, /*#__PURE__*/React.createElement(CloseCircleFill, null))));\n});"]},"metadata":{},"sourceType":"module"}