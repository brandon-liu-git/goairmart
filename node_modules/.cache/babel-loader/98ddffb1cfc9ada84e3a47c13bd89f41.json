{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport { getTargetElement } from '../utils/dom'; // 鼠标点击事件，click 不会监听右键\n\nvar defaultEvent = 'click';\nexport default function useClickAway(onClickAway, target, eventName) {\n  if (eventName === void 0) {\n    eventName = defaultEvent;\n  }\n\n  var onClickAwayRef = useRef(onClickAway);\n  onClickAwayRef.current = onClickAway;\n  useEffect(function () {\n    var handler = function handler(event) {\n      var targets = Array.isArray(target) ? target : [target];\n\n      if (targets.some(function (targetItem) {\n        var targetElement = getTargetElement(targetItem);\n        return !targetElement || (targetElement === null || targetElement === void 0 ? void 0 : targetElement.contains(event.target));\n      })) {\n        return;\n      }\n\n      onClickAwayRef.current(event);\n    };\n\n    document.addEventListener(eventName, handler);\n    return function () {\n      document.removeEventListener(eventName, handler);\n    };\n  }, [target, eventName]);\n}","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/ahooks/es/useClickAway/index.js"],"names":["useEffect","useRef","getTargetElement","defaultEvent","useClickAway","onClickAway","target","eventName","onClickAwayRef","current","handler","event","targets","Array","isArray","some","targetItem","targetElement","contains","document","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,SAASC,gBAAT,QAAiC,cAAjC,C,CAAiD;;AAEjD,IAAIC,YAAY,GAAG,OAAnB;AACA,eAAe,SAASC,YAAT,CAAsBC,WAAtB,EAAmCC,MAAnC,EAA2CC,SAA3C,EAAsD;AACnE,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AACxBA,IAAAA,SAAS,GAAGJ,YAAZ;AACD;;AAED,MAAIK,cAAc,GAAGP,MAAM,CAACI,WAAD,CAA3B;AACAG,EAAAA,cAAc,CAACC,OAAf,GAAyBJ,WAAzB;AACAL,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAIU,OAAO,GAAG,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AACpC,UAAIC,OAAO,GAAGC,KAAK,CAACC,OAAN,CAAcR,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CAA/C;;AAEA,UAAIM,OAAO,CAACG,IAAR,CAAa,UAAUC,UAAV,EAAsB;AACrC,YAAIC,aAAa,GAAGf,gBAAgB,CAACc,UAAD,CAApC;AACA,eAAO,CAACC,aAAD,KAAmBA,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACC,QAAd,CAAuBP,KAAK,CAACL,MAA7B,CAAjF,CAAP;AACD,OAHG,CAAJ,EAGI;AACF;AACD;;AAEDE,MAAAA,cAAc,CAACC,OAAf,CAAuBE,KAAvB;AACD,KAXD;;AAaAQ,IAAAA,QAAQ,CAACC,gBAAT,CAA0Bb,SAA1B,EAAqCG,OAArC;AACA,WAAO,YAAY;AACjBS,MAAAA,QAAQ,CAACE,mBAAT,CAA6Bd,SAA7B,EAAwCG,OAAxC;AACD,KAFD;AAGD,GAlBQ,EAkBN,CAACJ,MAAD,EAASC,SAAT,CAlBM,CAAT;AAmBD","sourcesContent":["import { useEffect, useRef } from 'react';\nimport { getTargetElement } from '../utils/dom'; // 鼠标点击事件，click 不会监听右键\n\nvar defaultEvent = 'click';\nexport default function useClickAway(onClickAway, target, eventName) {\n  if (eventName === void 0) {\n    eventName = defaultEvent;\n  }\n\n  var onClickAwayRef = useRef(onClickAway);\n  onClickAwayRef.current = onClickAway;\n  useEffect(function () {\n    var handler = function handler(event) {\n      var targets = Array.isArray(target) ? target : [target];\n\n      if (targets.some(function (targetItem) {\n        var targetElement = getTargetElement(targetItem);\n        return !targetElement || (targetElement === null || targetElement === void 0 ? void 0 : targetElement.contains(event.target));\n      })) {\n        return;\n      }\n\n      onClickAwayRef.current(event);\n    };\n\n    document.addEventListener(eventName, handler);\n    return function () {\n      document.removeEventListener(eventName, handler);\n    };\n  }, [target, eventName]);\n}"]},"metadata":{},"sourceType":"module"}