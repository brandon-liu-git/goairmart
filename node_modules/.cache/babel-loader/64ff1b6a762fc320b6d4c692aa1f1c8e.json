{"ast":null,"code":"import React, { createRef, forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { renderToBody } from '../../utils/render-to-body';\nimport { Dialog } from './dialog';\nexport function show(props) {\n  var Wrapper = /*#__PURE__*/forwardRef(function (_, ref) {\n    var _useState = useState(false),\n        visible = _useState[0],\n        setVisible = _useState[1];\n\n    useEffect(function () {\n      setVisible(true);\n    }, []);\n\n    function handleClose() {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n      setVisible(false);\n    }\n\n    useImperativeHandle(ref, function () {\n      return {\n        close: handleClose\n      };\n    });\n    return /*#__PURE__*/React.createElement(Dialog, Object.assign({}, props, {\n      visible: visible,\n      onClose: handleClose,\n      afterClose: function afterClose() {\n        var _a;\n\n        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        unmount();\n      }\n    }));\n  });\n  var ref = /*#__PURE__*/createRef();\n  var unmount = renderToBody( /*#__PURE__*/React.createElement(Wrapper, {\n    ref: ref\n  }));\n  return {\n    close: function close() {\n      var _a;\n\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();\n    }\n  };\n}","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/dialog/show.js"],"names":["React","createRef","forwardRef","useEffect","useImperativeHandle","useState","renderToBody","Dialog","show","props","Wrapper","_","ref","_useState","visible","setVisible","handleClose","_a","onClose","call","close","createElement","Object","assign","afterClose","unmount","current"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,SAAvC,EAAkDC,mBAAlD,EAAuEC,QAAvE,QAAuF,OAAvF;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAO,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAC1B,MAAIC,OAAO,GAAG,aAAaR,UAAU,CAAC,UAAUS,CAAV,EAAaC,GAAb,EAAkB;AACtD,QAAIC,SAAS,GAAGR,QAAQ,CAAC,KAAD,CAAxB;AAAA,QACIS,OAAO,GAAGD,SAAS,CAAC,CAAD,CADvB;AAAA,QAEIE,UAAU,GAAGF,SAAS,CAAC,CAAD,CAF1B;;AAIAV,IAAAA,SAAS,CAAC,YAAY;AACpBY,MAAAA,UAAU,CAAC,IAAD,CAAV;AACD,KAFQ,EAEN,EAFM,CAAT;;AAIA,aAASC,WAAT,GAAuB;AACrB,UAAIC,EAAJ;;AAEA,OAACA,EAAE,GAAGR,KAAK,CAACS,OAAZ,MAAyB,IAAzB,IAAiCD,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACE,IAAH,CAAQV,KAAR,CAA1D;AACAM,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;;AAEDX,IAAAA,mBAAmB,CAACQ,GAAD,EAAM,YAAY;AACnC,aAAO;AACLQ,QAAAA,KAAK,EAAEJ;AADF,OAAP;AAGD,KAJkB,CAAnB;AAKA,WAAO,aAAahB,KAAK,CAACqB,aAAN,CAAoBd,MAApB,EAA4Be,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,KAAlB,EAAyB;AACvEK,MAAAA,OAAO,EAAEA,OAD8D;AAEvEI,MAAAA,OAAO,EAAEF,WAF8D;AAGvEQ,MAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB;AAChC,YAAIP,EAAJ;;AAEA,SAACA,EAAE,GAAGR,KAAK,CAACe,UAAZ,MAA4B,IAA5B,IAAoCP,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACE,IAAH,CAAQV,KAAR,CAA7D;AACAgB,QAAAA,OAAO;AACR;AARsE,KAAzB,CAA5B,CAApB;AAUD,GA/BoC,CAArC;AAgCA,MAAIb,GAAG,GAAG,aAAaX,SAAS,EAAhC;AACA,MAAIwB,OAAO,GAAGnB,YAAY,EAAE,aAAaN,KAAK,CAACqB,aAAN,CAAoBX,OAApB,EAA6B;AACpEE,IAAAA,GAAG,EAAEA;AAD+D,GAA7B,CAAf,CAA1B;AAGA,SAAO;AACLQ,IAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,UAAIH,EAAJ;;AAEA,OAACA,EAAE,GAAGL,GAAG,CAACc,OAAV,MAAuB,IAAvB,IAA+BT,EAAE,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,EAAE,CAACG,KAAH,EAAxD;AACD;AALI,GAAP;AAOD","sourcesContent":["import React, { createRef, forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { renderToBody } from '../../utils/render-to-body';\nimport { Dialog } from './dialog';\nexport function show(props) {\n  var Wrapper = /*#__PURE__*/forwardRef(function (_, ref) {\n    var _useState = useState(false),\n        visible = _useState[0],\n        setVisible = _useState[1];\n\n    useEffect(function () {\n      setVisible(true);\n    }, []);\n\n    function handleClose() {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n      setVisible(false);\n    }\n\n    useImperativeHandle(ref, function () {\n      return {\n        close: handleClose\n      };\n    });\n    return /*#__PURE__*/React.createElement(Dialog, Object.assign({}, props, {\n      visible: visible,\n      onClose: handleClose,\n      afterClose: function afterClose() {\n        var _a;\n\n        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        unmount();\n      }\n    }));\n  });\n  var ref = /*#__PURE__*/createRef();\n  var unmount = renderToBody( /*#__PURE__*/React.createElement(Wrapper, {\n    ref: ref\n  }));\n  return {\n    close: function close() {\n      var _a;\n\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}