{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport { useEffect, useState } from 'react';\nimport 'intersection-observer';\nimport { getTargetElement } from '../utils/dom';\n\nfunction isInViewPort(el) {\n  if (!el) {\n    return undefined;\n  }\n\n  var viewPortWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  var viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n  var rect = el.getBoundingClientRect();\n\n  if (rect) {\n    var top_1 = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right;\n    return bottom > 0 && top_1 <= viewPortHeight && left <= viewPortWidth && right > 0;\n  }\n\n  return false;\n}\n\nfunction useInViewport(target) {\n  var _a = __read(useState(function () {\n    var el = getTargetElement(target);\n    return isInViewPort(el);\n  }), 2),\n      inViewPort = _a[0],\n      setInViewport = _a[1];\n\n  useEffect(function () {\n    var el = getTargetElement(target);\n\n    if (!el) {\n      return function () {};\n    }\n\n    var observer = new IntersectionObserver(function (entries) {\n      var e_1, _a;\n\n      try {\n        for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n          var entry = entries_1_1.value;\n\n          if (entry.isIntersecting) {\n            setInViewport(true);\n          } else {\n            setInViewport(false);\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (entries_1_1 && !entries_1_1.done && (_a = entries_1[\"return\"])) _a.call(entries_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    });\n    observer.observe(el);\n    return function () {\n      observer.disconnect();\n    };\n  }, [target]);\n  return inViewPort;\n}\n\nexport default useInViewport;","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/ahooks/es/useInViewport/index.js"],"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","__values","s","length","TypeError","useEffect","useState","getTargetElement","isInViewPort","el","undefined","viewPortWidth","window","innerWidth","document","documentElement","clientWidth","body","viewPortHeight","innerHeight","clientHeight","rect","getBoundingClientRect","top_1","top","bottom","left","right","useInViewport","target","_a","inViewPort","setInViewport","observer","IntersectionObserver","entries","e_1","entries_1","entries_1_1","entry","isIntersecting","e_1_1","observe","disconnect"],"mappings":"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","sourcesContent":["var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport { useEffect, useState } from 'react';\nimport 'intersection-observer';\nimport { getTargetElement } from '../utils/dom';\n\nfunction isInViewPort(el) {\n  if (!el) {\n    return undefined;\n  }\n\n  var viewPortWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  var viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n  var rect = el.getBoundingClientRect();\n\n  if (rect) {\n    var top_1 = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right;\n    return bottom > 0 && top_1 <= viewPortHeight && left <= viewPortWidth && right > 0;\n  }\n\n  return false;\n}\n\nfunction useInViewport(target) {\n  var _a = __read(useState(function () {\n    var el = getTargetElement(target);\n    return isInViewPort(el);\n  }), 2),\n      inViewPort = _a[0],\n      setInViewport = _a[1];\n\n  useEffect(function () {\n    var el = getTargetElement(target);\n\n    if (!el) {\n      return function () {};\n    }\n\n    var observer = new IntersectionObserver(function (entries) {\n      var e_1, _a;\n\n      try {\n        for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n          var entry = entries_1_1.value;\n\n          if (entry.isIntersecting) {\n            setInViewport(true);\n          } else {\n            setInViewport(false);\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (entries_1_1 && !entries_1_1.done && (_a = entries_1[\"return\"])) _a.call(entries_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    });\n    observer.observe(el);\n    return function () {\n      observer.disconnect();\n    };\n  }, [target]);\n  return inViewPort;\n}\n\nexport default useInViewport;"]},"metadata":{},"sourceType":"module"}