{"ast":null,"code":"/* eslint no-empty: 0 */\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { useCallback, useRef, useState } from 'react';\nimport screenfull from 'screenfull';\nimport useUnmount from '../useUnmount';\nimport { getTargetElement } from '../utils/dom';\nexport default (function (target, options) {\n  var _a = options || {},\n      onExitFull = _a.onExitFull,\n      onFull = _a.onFull;\n\n  var onExitFullRef = useRef(onExitFull);\n  onExitFullRef.current = onExitFull;\n  var onFullRef = useRef(onFull);\n  onFullRef.current = onFull;\n\n  var _b = __read(useState(false), 2),\n      state = _b[0],\n      setState = _b[1];\n\n  var onChange = useCallback(function () {\n    if (screenfull.isEnabled) {\n      var isFullscreen = screenfull.isFullscreen;\n\n      if (isFullscreen) {\n        onFullRef.current && onFullRef.current();\n      } else {\n        screenfull.off('change', onChange);\n        onExitFullRef.current && onExitFullRef.current();\n      }\n\n      setState(isFullscreen);\n    }\n  }, []);\n  var setFull = useCallback(function () {\n    var el = getTargetElement(target);\n\n    if (!el) {\n      return;\n    }\n\n    if (screenfull.isEnabled) {\n      try {\n        screenfull.request(el);\n        screenfull.on('change', onChange);\n      } catch (error) {}\n    }\n  }, [target, onChange]);\n  var exitFull = useCallback(function () {\n    if (!state) {\n      return;\n    }\n\n    if (screenfull.isEnabled) {\n      screenfull.exit();\n    }\n  }, [state]);\n  var toggleFull = useCallback(function () {\n    if (state) {\n      exitFull();\n    } else {\n      setFull();\n    }\n  }, [state, setFull, exitFull]);\n  useUnmount(function () {\n    if (screenfull.isEnabled) {\n      screenfull.off('change', onChange);\n    }\n  });\n  return [state, {\n    setFull: setFull,\n    exitFull: exitFull,\n    toggleFull: toggleFull\n  }];\n});","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/ahooks/es/useFullscreen/index.js"],"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","useCallback","useRef","useState","screenfull","useUnmount","getTargetElement","target","options","_a","onExitFull","onFull","onExitFullRef","current","onFullRef","_b","state","setState","onChange","isEnabled","isFullscreen","off","setFull","el","request","on","exitFull","exit","toggleFull"],"mappings":"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","sourcesContent":["/* eslint no-empty: 0 */\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { useCallback, useRef, useState } from 'react';\nimport screenfull from 'screenfull';\nimport useUnmount from '../useUnmount';\nimport { getTargetElement } from '../utils/dom';\nexport default (function (target, options) {\n  var _a = options || {},\n      onExitFull = _a.onExitFull,\n      onFull = _a.onFull;\n\n  var onExitFullRef = useRef(onExitFull);\n  onExitFullRef.current = onExitFull;\n  var onFullRef = useRef(onFull);\n  onFullRef.current = onFull;\n\n  var _b = __read(useState(false), 2),\n      state = _b[0],\n      setState = _b[1];\n\n  var onChange = useCallback(function () {\n    if (screenfull.isEnabled) {\n      var isFullscreen = screenfull.isFullscreen;\n\n      if (isFullscreen) {\n        onFullRef.current && onFullRef.current();\n      } else {\n        screenfull.off('change', onChange);\n        onExitFullRef.current && onExitFullRef.current();\n      }\n\n      setState(isFullscreen);\n    }\n  }, []);\n  var setFull = useCallback(function () {\n    var el = getTargetElement(target);\n\n    if (!el) {\n      return;\n    }\n\n    if (screenfull.isEnabled) {\n      try {\n        screenfull.request(el);\n        screenfull.on('change', onChange);\n      } catch (error) {}\n    }\n  }, [target, onChange]);\n  var exitFull = useCallback(function () {\n    if (!state) {\n      return;\n    }\n\n    if (screenfull.isEnabled) {\n      screenfull.exit();\n    }\n  }, [state]);\n  var toggleFull = useCallback(function () {\n    if (state) {\n      exitFull();\n    } else {\n      setFull();\n    }\n  }, [state, setFull, exitFull]);\n  useUnmount(function () {\n    if (screenfull.isEnabled) {\n      screenfull.off('change', onChange);\n    }\n  });\n  return [state, {\n    setFull: setFull,\n    exitFull: exitFull,\n    toggleFull: toggleFull\n  }];\n});"]},"metadata":{},"sourceType":"module"}