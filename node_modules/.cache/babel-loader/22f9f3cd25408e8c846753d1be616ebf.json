{"ast":null,"code":"import { mergeProps } from '../../utils/with-default-props';\nimport { renderToContainer } from '../../utils/render-to-container';\nimport Mask from '../mask';\nimport { Slide } from './slide';\nimport { Slides } from './slides';\nimport React, { createRef, forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { renderToBody } from '../../utils/render-to-body';\nvar classPrefix = \"adm-image-viewer\";\nvar defaultProps = {\n  maxZoom: 3,\n  getContainer: null,\n  visible: false\n};\nexport var ImageViewer = function ImageViewer(p) {\n  var props = mergeProps(defaultProps, p);\n  var node = /*#__PURE__*/React.createElement(Mask, {\n    visible: props.visible,\n    disableBodyScroll: false,\n    opacity: 'thick',\n    afterClose: props.afterClose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-content\"\n  }, props.image && /*#__PURE__*/React.createElement(Slide, {\n    image: props.image,\n    onTap: function onTap() {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    },\n    maxZoom: props.maxZoom\n  })));\n  return renderToContainer(props.getContainer, node);\n};\nvar multiDefaultProps = Object.assign(Object.assign({}, defaultProps), {\n  defaultIndex: 0\n});\nexport var MultiImageViewer = function MultiImageViewer(p) {\n  var props = mergeProps(multiDefaultProps, p);\n  var node = /*#__PURE__*/React.createElement(Mask, {\n    visible: props.visible,\n    disableBodyScroll: false,\n    opacity: 'thick',\n    afterClose: props.afterClose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-content\"\n  }, props.images && /*#__PURE__*/React.createElement(Slides, {\n    defaultIndex: props.defaultIndex,\n    onIndexChange: props.onIndexChange,\n    images: props.images,\n    onTap: function onTap() {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    },\n    maxZoom: props.maxZoom\n  })));\n  return renderToContainer(props.getContainer, node);\n};\nexport function showImageViewer(props) {\n  var Wrapper = /*#__PURE__*/forwardRef(function (_, ref) {\n    var _useState = useState(false),\n        visible = _useState[0],\n        setVisible = _useState[1];\n\n    useEffect(function () {\n      setVisible(true);\n    }, []);\n    useImperativeHandle(ref, function () {\n      return {\n        close: function close() {\n          setVisible(false);\n        }\n      };\n    });\n    return /*#__PURE__*/React.createElement(ImageViewer, Object.assign({}, props, {\n      visible: visible,\n      onClose: function onClose() {\n        var _a;\n\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        setVisible(false);\n      },\n      afterClose: function afterClose() {\n        var _a;\n\n        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        unmount();\n      }\n    }));\n  });\n  var ref = /*#__PURE__*/createRef();\n  var unmount = renderToBody( /*#__PURE__*/React.createElement(Wrapper, {\n    ref: ref\n  }));\n  return {\n    close: function close() {\n      var _a;\n\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();\n    }\n  };\n}\nexport function showMultiImageViewer(props) {\n  var Wrapper = /*#__PURE__*/forwardRef(function (_, ref) {\n    var _useState2 = useState(false),\n        visible = _useState2[0],\n        setVisible = _useState2[1];\n\n    useEffect(function () {\n      setVisible(true);\n    }, []);\n    useImperativeHandle(ref, function () {\n      return {\n        close: function close() {\n          setVisible(false);\n        }\n      };\n    });\n    return /*#__PURE__*/React.createElement(MultiImageViewer, Object.assign({}, props, {\n      visible: visible,\n      onClose: function onClose() {\n        var _a;\n\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        setVisible(false);\n      },\n      afterClose: function afterClose() {\n        var _a;\n\n        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        unmount();\n      }\n    }));\n  });\n  var ref = /*#__PURE__*/createRef();\n  var unmount = renderToBody( /*#__PURE__*/React.createElement(Wrapper, {\n    ref: ref\n  }));\n  return {\n    close: function close() {\n      var _a;\n\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();\n    }\n  };\n}","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/image-viewer/image-viewer.js"],"names":["mergeProps","renderToContainer","Mask","Slide","Slides","React","createRef","forwardRef","useEffect","useImperativeHandle","useState","renderToBody","classPrefix","defaultProps","maxZoom","getContainer","visible","ImageViewer","p","props","node","createElement","disableBodyScroll","opacity","afterClose","className","image","onTap","_a","onClose","call","multiDefaultProps","Object","assign","defaultIndex","MultiImageViewer","images","onIndexChange","showImageViewer","Wrapper","_","ref","_useState","setVisible","close","unmount","current","showMultiImageViewer","_useState2"],"mappings":"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","sourcesContent":["import { mergeProps } from '../../utils/with-default-props';\nimport { renderToContainer } from '../../utils/render-to-container';\nimport Mask from '../mask';\nimport { Slide } from './slide';\nimport { Slides } from './slides';\nimport React, { createRef, forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { renderToBody } from '../../utils/render-to-body';\nvar classPrefix = \"adm-image-viewer\";\nvar defaultProps = {\n  maxZoom: 3,\n  getContainer: null,\n  visible: false\n};\nexport var ImageViewer = function ImageViewer(p) {\n  var props = mergeProps(defaultProps, p);\n  var node = /*#__PURE__*/React.createElement(Mask, {\n    visible: props.visible,\n    disableBodyScroll: false,\n    opacity: 'thick',\n    afterClose: props.afterClose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-content\"\n  }, props.image && /*#__PURE__*/React.createElement(Slide, {\n    image: props.image,\n    onTap: function onTap() {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    },\n    maxZoom: props.maxZoom\n  })));\n  return renderToContainer(props.getContainer, node);\n};\nvar multiDefaultProps = Object.assign(Object.assign({}, defaultProps), {\n  defaultIndex: 0\n});\nexport var MultiImageViewer = function MultiImageViewer(p) {\n  var props = mergeProps(multiDefaultProps, p);\n  var node = /*#__PURE__*/React.createElement(Mask, {\n    visible: props.visible,\n    disableBodyScroll: false,\n    opacity: 'thick',\n    afterClose: props.afterClose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix + \"-content\"\n  }, props.images && /*#__PURE__*/React.createElement(Slides, {\n    defaultIndex: props.defaultIndex,\n    onIndexChange: props.onIndexChange,\n    images: props.images,\n    onTap: function onTap() {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    },\n    maxZoom: props.maxZoom\n  })));\n  return renderToContainer(props.getContainer, node);\n};\nexport function showImageViewer(props) {\n  var Wrapper = /*#__PURE__*/forwardRef(function (_, ref) {\n    var _useState = useState(false),\n        visible = _useState[0],\n        setVisible = _useState[1];\n\n    useEffect(function () {\n      setVisible(true);\n    }, []);\n    useImperativeHandle(ref, function () {\n      return {\n        close: function close() {\n          setVisible(false);\n        }\n      };\n    });\n    return /*#__PURE__*/React.createElement(ImageViewer, Object.assign({}, props, {\n      visible: visible,\n      onClose: function onClose() {\n        var _a;\n\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        setVisible(false);\n      },\n      afterClose: function afterClose() {\n        var _a;\n\n        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        unmount();\n      }\n    }));\n  });\n  var ref = /*#__PURE__*/createRef();\n  var unmount = renderToBody( /*#__PURE__*/React.createElement(Wrapper, {\n    ref: ref\n  }));\n  return {\n    close: function close() {\n      var _a;\n\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();\n    }\n  };\n}\nexport function showMultiImageViewer(props) {\n  var Wrapper = /*#__PURE__*/forwardRef(function (_, ref) {\n    var _useState2 = useState(false),\n        visible = _useState2[0],\n        setVisible = _useState2[1];\n\n    useEffect(function () {\n      setVisible(true);\n    }, []);\n    useImperativeHandle(ref, function () {\n      return {\n        close: function close() {\n          setVisible(false);\n        }\n      };\n    });\n    return /*#__PURE__*/React.createElement(MultiImageViewer, Object.assign({}, props, {\n      visible: visible,\n      onClose: function onClose() {\n        var _a;\n\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        setVisible(false);\n      },\n      afterClose: function afterClose() {\n        var _a;\n\n        (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        unmount();\n      }\n    }));\n  });\n  var ref = /*#__PURE__*/createRef();\n  var unmount = renderToBody( /*#__PURE__*/React.createElement(Wrapper, {\n    ref: ref\n  }));\n  return {\n    close: function close() {\n      var _a;\n\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.close();\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}