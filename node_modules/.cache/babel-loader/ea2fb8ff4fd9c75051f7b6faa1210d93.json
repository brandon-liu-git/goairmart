{"ast":null,"code":"import React from 'react';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { StarFill } from 'antd-mobile-icons';\nimport { usePropsValue } from '../../utils/use-props-value';\nvar classPrefix = \"adm-rate\";\nvar defaultProps = {\n  count: 5,\n  allowHalf: false,\n  character: /*#__PURE__*/React.createElement(StarFill, null),\n  defaultValue: 0,\n  readOnly: false,\n  allowClear: true\n};\nexport var Rate = function Rate(p) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue(props),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var starList = Array(props.count).fill(null);\n\n  function renderStar(v, half) {\n    var _classNames;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(classPrefix + \"-star\", (_classNames = {}, _classNames[classPrefix + \"-star-active\"] = value >= v, _classNames[classPrefix + \"-star-half\"] = half, _classNames[classPrefix + \"-star-readonly\"] = props.readOnly, _classNames)),\n      onClick: function onClick() {\n        if (props.readOnly) return;\n\n        if (props.allowClear && value === v) {\n          setValue(0);\n        } else {\n          setValue(v);\n        }\n      }\n    }, props.character);\n  }\n\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix\n  }, starList.map(function (_, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: classNames(classPrefix + \"-box\")\n    }, props.allowHalf && renderStar(i + 0.5, true), renderStar(i + 1, false));\n  })));\n};","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/rate/rate.js"],"names":["React","classNames","withNativeProps","mergeProps","StarFill","usePropsValue","classPrefix","defaultProps","count","allowHalf","character","createElement","defaultValue","readOnly","allowClear","Rate","p","props","_usePropsValue","value","setValue","starList","Array","fill","renderStar","v","half","_classNames","className","onClick","map","_","i","key"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,IAAIC,WAAW,GAAG,UAAlB;AACA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,CADU;AAEjBC,EAAAA,SAAS,EAAE,KAFM;AAGjBC,EAAAA,SAAS,EAAE,aAAaV,KAAK,CAACW,aAAN,CAAoBP,QAApB,EAA8B,IAA9B,CAHP;AAIjBQ,EAAAA,YAAY,EAAE,CAJG;AAKjBC,EAAAA,QAAQ,EAAE,KALO;AAMjBC,EAAAA,UAAU,EAAE;AANK,CAAnB;AAQA,OAAO,IAAIC,IAAI,GAAG,SAASA,IAAT,CAAcC,CAAd,EAAiB;AACjC,MAAIC,KAAK,GAAGd,UAAU,CAACI,YAAD,EAAeS,CAAf,CAAtB;;AAEA,MAAIE,cAAc,GAAGb,aAAa,CAACY,KAAD,CAAlC;AAAA,MACIE,KAAK,GAAGD,cAAc,CAAC,CAAD,CAD1B;AAAA,MAEIE,QAAQ,GAAGF,cAAc,CAAC,CAAD,CAF7B;;AAIA,MAAIG,QAAQ,GAAGC,KAAK,CAACL,KAAK,CAACT,KAAP,CAAL,CAAmBe,IAAnB,CAAwB,IAAxB,CAAf;;AAEA,WAASC,UAAT,CAAoBC,CAApB,EAAuBC,IAAvB,EAA6B;AAC3B,QAAIC,WAAJ;;AAEA,WAAO,aAAa3B,KAAK,CAACW,aAAN,CAAoB,KAApB,EAA2B;AAC7CiB,MAAAA,SAAS,EAAE3B,UAAU,CAACK,WAAW,GAAG,OAAf,GAAyBqB,WAAW,GAAG,EAAd,EAAkBA,WAAW,CAACrB,WAAW,GAAG,cAAf,CAAX,GAA4Ca,KAAK,IAAIM,CAAvE,EAA0EE,WAAW,CAACrB,WAAW,GAAG,YAAf,CAAX,GAA0CoB,IAApH,EAA0HC,WAAW,CAACrB,WAAW,GAAG,gBAAf,CAAX,GAA8CW,KAAK,CAACJ,QAA9K,EAAwLc,WAAjN,EADwB;AAE7CE,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,YAAIZ,KAAK,CAACJ,QAAV,EAAoB;;AAEpB,YAAII,KAAK,CAACH,UAAN,IAAoBK,KAAK,KAAKM,CAAlC,EAAqC;AACnCL,UAAAA,QAAQ,CAAC,CAAD,CAAR;AACD,SAFD,MAEO;AACLA,UAAAA,QAAQ,CAACK,CAAD,CAAR;AACD;AACF;AAV4C,KAA3B,EAWjBR,KAAK,CAACP,SAXW,CAApB;AAYD;;AAED,SAAOR,eAAe,CAACe,KAAD,EAAQ,aAAajB,KAAK,CAACW,aAAN,CAAoB,KAApB,EAA2B;AACpEiB,IAAAA,SAAS,EAAEtB;AADyD,GAA3B,EAExCe,QAAQ,CAACS,GAAT,CAAa,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC9B,WAAO,aAAahC,KAAK,CAACW,aAAN,CAAoB,KAApB,EAA2B;AAC7CsB,MAAAA,GAAG,EAAED,CADwC;AAE7CJ,MAAAA,SAAS,EAAE3B,UAAU,CAACK,WAAW,GAAG,MAAf;AAFwB,KAA3B,EAGjBW,KAAK,CAACR,SAAN,IAAmBe,UAAU,CAACQ,CAAC,GAAG,GAAL,EAAU,IAAV,CAHZ,EAG6BR,UAAU,CAACQ,CAAC,GAAG,CAAL,EAAQ,KAAR,CAHvC,CAApB;AAID,GALE,CAFwC,CAArB,CAAtB;AAQD,CAlCM","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { StarFill } from 'antd-mobile-icons';\nimport { usePropsValue } from '../../utils/use-props-value';\nvar classPrefix = \"adm-rate\";\nvar defaultProps = {\n  count: 5,\n  allowHalf: false,\n  character: /*#__PURE__*/React.createElement(StarFill, null),\n  defaultValue: 0,\n  readOnly: false,\n  allowClear: true\n};\nexport var Rate = function Rate(p) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue(props),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var starList = Array(props.count).fill(null);\n\n  function renderStar(v, half) {\n    var _classNames;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(classPrefix + \"-star\", (_classNames = {}, _classNames[classPrefix + \"-star-active\"] = value >= v, _classNames[classPrefix + \"-star-half\"] = half, _classNames[classPrefix + \"-star-readonly\"] = props.readOnly, _classNames)),\n      onClick: function onClick() {\n        if (props.readOnly) return;\n\n        if (props.allowClear && value === v) {\n          setValue(0);\n        } else {\n          setValue(v);\n        }\n      }\n    }, props.character);\n  }\n\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix\n  }, starList.map(function (_, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: classNames(classPrefix + \"-box\")\n    }, props.allowHalf && renderStar(i + 0.5, true), renderStar(i + 1, false));\n  })));\n};"]},"metadata":{},"sourceType":"module"}