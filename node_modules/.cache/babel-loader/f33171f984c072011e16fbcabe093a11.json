{"ast":null,"code":"import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { convertPx } from '../../utils/convert-px';\nimport selectorCheckMarkImg from '../../assets/selector-check-mark.svg';\nimport { usePropsValue } from '../../utils/use-props-value';\nvar classPrefix = \"adm-selector\";\nvar defaultProps = {\n  multiple: false,\n  defaultValue: []\n};\nexport var Selector = function Selector(p) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: function onChange(val) {\n      var _a;\n\n      var context = {\n        get items() {\n          return props.options.filter(function (option) {\n            return val.includes(option.value);\n          });\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, context);\n    }\n  }),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var items = props.options.map(function (option) {\n    var _classNames;\n\n    var active = (value || []).includes(option.value);\n    var disabled = option.disabled || props.disabled;\n    var itemCls = classNames(classPrefix + \"-item\", (_classNames = {}, _classNames[classPrefix + \"-item-active\"] = active && !props.multiple, _classNames[classPrefix + \"-item-multiple-active\"] = active && props.multiple, _classNames[classPrefix + \"-item-disabled\"] = disabled, _classNames));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: function onClick() {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          var val = active ? value.filter(function (v) {\n            return v !== option.value;\n          }) : [].concat(value, [option.value]);\n          setValue(val);\n        } else {\n          var _val = active ? [] : [option.value];\n\n          setValue(_val);\n        }\n      }\n    }, option.label, active && props.multiple && /*#__PURE__*/React.createElement(\"div\", {\n      className: classPrefix + \"-check-mark-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: selectorCheckMarkImg\n    })));\n  });\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && /*#__PURE__*/React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && /*#__PURE__*/React.createElement(Grid, {\n    columns: props.columns,\n    gap: convertPx(8)\n  }, items)));\n};","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/selector/selector.js"],"names":["classNames","React","withNativeProps","mergeProps","Space","Grid","convertPx","selectorCheckMarkImg","usePropsValue","classPrefix","defaultProps","multiple","defaultValue","Selector","p","props","_usePropsValue","value","onChange","val","_a","context","items","options","filter","option","includes","call","setValue","map","_classNames","active","disabled","itemCls","createElement","key","className","onClick","v","concat","_val","label","src","columns","wrap","gap"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,OAAOC,oBAAP,MAAiC,sCAAjC;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,IAAIC,WAAW,GAAG,cAAlB;AACA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,KADO;AAEjBC,EAAAA,YAAY,EAAE;AAFG,CAAnB;AAIA,OAAO,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,CAAlB,EAAqB;AACzC,MAAIC,KAAK,GAAGZ,UAAU,CAACO,YAAD,EAAeI,CAAf,CAAtB;;AAEA,MAAIE,cAAc,GAAGR,aAAa,CAAC;AACjCS,IAAAA,KAAK,EAAEF,KAAK,CAACE,KADoB;AAEjCL,IAAAA,YAAY,EAAEG,KAAK,CAACH,YAFa;AAGjCM,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;AAC/B,UAAIC,EAAJ;;AAEA,UAAIC,OAAO,GAAG;AACZ,YAAIC,KAAJ,GAAY;AACV,iBAAOP,KAAK,CAACQ,OAAN,CAAcC,MAAd,CAAqB,UAAUC,MAAV,EAAkB;AAC5C,mBAAON,GAAG,CAACO,QAAJ,CAAaD,MAAM,CAACR,KAApB,CAAP;AACD,WAFM,CAAP;AAGD;;AALW,OAAd;AAQA,OAACG,EAAE,GAAGL,KAAK,CAACG,QAAZ,MAA0B,IAA1B,IAAkCE,EAAE,KAAK,KAAK,CAA9C,GAAkD,KAAK,CAAvD,GAA2DA,EAAE,CAACO,IAAH,CAAQZ,KAAR,EAAeI,GAAf,EAAoBE,OAApB,CAA3D;AACD;AAfgC,GAAD,CAAlC;AAAA,MAiBIJ,KAAK,GAAGD,cAAc,CAAC,CAAD,CAjB1B;AAAA,MAkBIY,QAAQ,GAAGZ,cAAc,CAAC,CAAD,CAlB7B;;AAoBA,MAAIM,KAAK,GAAGP,KAAK,CAACQ,OAAN,CAAcM,GAAd,CAAkB,UAAUJ,MAAV,EAAkB;AAC9C,QAAIK,WAAJ;;AAEA,QAAIC,MAAM,GAAG,CAACd,KAAK,IAAI,EAAV,EAAcS,QAAd,CAAuBD,MAAM,CAACR,KAA9B,CAAb;AACA,QAAIe,QAAQ,GAAGP,MAAM,CAACO,QAAP,IAAmBjB,KAAK,CAACiB,QAAxC;AACA,QAAIC,OAAO,GAAGjC,UAAU,CAACS,WAAW,GAAG,OAAf,GAAyBqB,WAAW,GAAG,EAAd,EAAkBA,WAAW,CAACrB,WAAW,GAAG,cAAf,CAAX,GAA4CsB,MAAM,IAAI,CAAChB,KAAK,CAACJ,QAA/E,EAAyFmB,WAAW,CAACrB,WAAW,GAAG,uBAAf,CAAX,GAAqDsB,MAAM,IAAIhB,KAAK,CAACJ,QAA9J,EAAwKmB,WAAW,CAACrB,WAAW,GAAG,gBAAf,CAAX,GAA8CuB,QAAtN,EAAgOF,WAAzP,EAAxB;AACA,WAAO,aAAa7B,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AAC7CC,MAAAA,GAAG,EAAEV,MAAM,CAACR,KADiC;AAE7CmB,MAAAA,SAAS,EAAEH,OAFkC;AAG7CI,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,YAAIL,QAAJ,EAAc;AACZ;AACD;;AAED,YAAIjB,KAAK,CAACJ,QAAV,EAAoB;AAClB,cAAIQ,GAAG,GAAGY,MAAM,GAAGd,KAAK,CAACO,MAAN,CAAa,UAAUc,CAAV,EAAa;AAC3C,mBAAOA,CAAC,KAAKb,MAAM,CAACR,KAApB;AACD,WAFkB,CAAH,GAEX,GAAGsB,MAAH,CAAUtB,KAAV,EAAiB,CAACQ,MAAM,CAACR,KAAR,CAAjB,CAFL;AAGAW,UAAAA,QAAQ,CAACT,GAAD,CAAR;AACD,SALD,MAKO;AACL,cAAIqB,IAAI,GAAGT,MAAM,GAAG,EAAH,GAAQ,CAACN,MAAM,CAACR,KAAR,CAAzB;;AAEAW,UAAAA,QAAQ,CAACY,IAAD,CAAR;AACD;AACF;AAlB4C,KAA3B,EAmBjBf,MAAM,CAACgB,KAnBU,EAmBHV,MAAM,IAAIhB,KAAK,CAACJ,QAAhB,IAA4B,aAAaV,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AACnFE,MAAAA,SAAS,EAAE3B,WAAW,GAAG;AAD0D,KAA3B,EAEvD,aAAaR,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AACzCQ,MAAAA,GAAG,EAAEnC;AADoC,KAA3B,CAF0C,CAnBtC,CAApB;AAwBD,GA9BW,CAAZ;AA+BA,SAAOL,eAAe,CAACa,KAAD,EAAQ,aAAad,KAAK,CAACiC,aAAN,CAAoB,KAApB,EAA2B;AACpEE,IAAAA,SAAS,EAAE3B;AADyD,GAA3B,EAExC,CAACM,KAAK,CAAC4B,OAAP,IAAkB,aAAa1C,KAAK,CAACiC,aAAN,CAAoB9B,KAApB,EAA2B;AAC3DwC,IAAAA,IAAI,EAAE;AADqD,GAA3B,EAE/BtB,KAF+B,CAFS,EAIhCP,KAAK,CAAC4B,OAAN,IAAiB,aAAa1C,KAAK,CAACiC,aAAN,CAAoB7B,IAApB,EAA0B;AACjEsC,IAAAA,OAAO,EAAE5B,KAAK,CAAC4B,OADkD;AAEjEE,IAAAA,GAAG,EAAEvC,SAAS,CAAC,CAAD;AAFmD,GAA1B,EAGtCgB,KAHsC,CAJE,CAArB,CAAtB;AAQD,CA9DM","sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { convertPx } from '../../utils/convert-px';\nimport selectorCheckMarkImg from '../../assets/selector-check-mark.svg';\nimport { usePropsValue } from '../../utils/use-props-value';\nvar classPrefix = \"adm-selector\";\nvar defaultProps = {\n  multiple: false,\n  defaultValue: []\n};\nexport var Selector = function Selector(p) {\n  var props = mergeProps(defaultProps, p);\n\n  var _usePropsValue = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: function onChange(val) {\n      var _a;\n\n      var context = {\n        get items() {\n          return props.options.filter(function (option) {\n            return val.includes(option.value);\n          });\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, context);\n    }\n  }),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var items = props.options.map(function (option) {\n    var _classNames;\n\n    var active = (value || []).includes(option.value);\n    var disabled = option.disabled || props.disabled;\n    var itemCls = classNames(classPrefix + \"-item\", (_classNames = {}, _classNames[classPrefix + \"-item-active\"] = active && !props.multiple, _classNames[classPrefix + \"-item-multiple-active\"] = active && props.multiple, _classNames[classPrefix + \"-item-disabled\"] = disabled, _classNames));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: function onClick() {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          var val = active ? value.filter(function (v) {\n            return v !== option.value;\n          }) : [].concat(value, [option.value]);\n          setValue(val);\n        } else {\n          var _val = active ? [] : [option.value];\n\n          setValue(_val);\n        }\n      }\n    }, option.label, active && props.multiple && /*#__PURE__*/React.createElement(\"div\", {\n      className: classPrefix + \"-check-mark-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: selectorCheckMarkImg\n    })));\n  });\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && /*#__PURE__*/React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && /*#__PURE__*/React.createElement(Grid, {\n    columns: props.columns,\n    gap: convertPx(8)\n  }, items)));\n};"]},"metadata":{},"sourceType":"module"}