{"ast":null,"code":"var cache = new Map();\n\nvar setCache = function setCache(key, cacheTime, data) {\n  var currentCache = cache.get(key);\n\n  if (currentCache === null || currentCache === void 0 ? void 0 : currentCache.timer) {\n    clearTimeout(currentCache.timer);\n  }\n\n  var timer = undefined;\n\n  if (cacheTime > -1) {\n    // 数据在不活跃 cacheTime 后，删除掉\n    timer = setTimeout(function () {\n      cache[\"delete\"](key);\n    }, cacheTime);\n  }\n\n  cache.set(key, {\n    data: data,\n    timer: timer,\n    startTime: new Date().getTime()\n  });\n};\n\nvar getCache = function getCache(key) {\n  var currentCache = cache.get(key);\n  return {\n    data: currentCache === null || currentCache === void 0 ? void 0 : currentCache.data,\n    startTime: currentCache === null || currentCache === void 0 ? void 0 : currentCache.startTime\n  };\n};\n\nexport { getCache, setCache };","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/@ahooksjs/use-request/es/utils/cache.js"],"names":["cache","Map","setCache","key","cacheTime","data","currentCache","get","timer","clearTimeout","undefined","setTimeout","set","startTime","Date","getTime","getCache"],"mappings":"AAAA,IAAIA,KAAK,GAAG,IAAIC,GAAJ,EAAZ;;AAEA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,GAAlB,EAAuBC,SAAvB,EAAkCC,IAAlC,EAAwC;AACrD,MAAIC,YAAY,GAAGN,KAAK,CAACO,GAAN,CAAUJ,GAAV,CAAnB;;AAEA,MAAIG,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACE,KAA7E,EAAoF;AAClFC,IAAAA,YAAY,CAACH,YAAY,CAACE,KAAd,CAAZ;AACD;;AAED,MAAIA,KAAK,GAAGE,SAAZ;;AAEA,MAAIN,SAAS,GAAG,CAAC,CAAjB,EAAoB;AAClB;AACAI,IAAAA,KAAK,GAAGG,UAAU,CAAC,YAAY;AAC7BX,MAAAA,KAAK,CAAC,QAAD,CAAL,CAAgBG,GAAhB;AACD,KAFiB,EAEfC,SAFe,CAAlB;AAGD;;AAEDJ,EAAAA,KAAK,CAACY,GAAN,CAAUT,GAAV,EAAe;AACbE,IAAAA,IAAI,EAAEA,IADO;AAEbG,IAAAA,KAAK,EAAEA,KAFM;AAGbK,IAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAHE,GAAf;AAKD,CArBD;;AAuBA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBb,GAAlB,EAAuB;AACpC,MAAIG,YAAY,GAAGN,KAAK,CAACO,GAAN,CAAUJ,GAAV,CAAnB;AACA,SAAO;AACLE,IAAAA,IAAI,EAAEC,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACD,IAD1E;AAELQ,IAAAA,SAAS,EAAEP,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACO;AAF/E,GAAP;AAID,CAND;;AAQA,SAASG,QAAT,EAAmBd,QAAnB","sourcesContent":["var cache = new Map();\n\nvar setCache = function setCache(key, cacheTime, data) {\n  var currentCache = cache.get(key);\n\n  if (currentCache === null || currentCache === void 0 ? void 0 : currentCache.timer) {\n    clearTimeout(currentCache.timer);\n  }\n\n  var timer = undefined;\n\n  if (cacheTime > -1) {\n    // 数据在不活跃 cacheTime 后，删除掉\n    timer = setTimeout(function () {\n      cache[\"delete\"](key);\n    }, cacheTime);\n  }\n\n  cache.set(key, {\n    data: data,\n    timer: timer,\n    startTime: new Date().getTime()\n  });\n};\n\nvar getCache = function getCache(key) {\n  var currentCache = cache.get(key);\n  return {\n    data: currentCache === null || currentCache === void 0 ? void 0 : currentCache.data,\n    startTime: currentCache === null || currentCache === void 0 ? void 0 : currentCache.startTime\n  };\n};\n\nexport { getCache, setCache };"]},"metadata":{},"sourceType":"module"}