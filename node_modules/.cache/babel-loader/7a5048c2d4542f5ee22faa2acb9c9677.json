{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nvar classPrefix = 'adm-text-area';\nvar defaultProps = {\n  rows: 2,\n  showCount: false,\n  autoSize: false,\n  defaultValue: ''\n};\nexport var TextArea = /*#__PURE__*/forwardRef(function (p, ref) {\n  var props = mergeProps(defaultProps, p);\n\n  var className = props.className,\n      style = props.style,\n      outerDefaultValue = props.defaultValue,\n      outerValue = props.value,\n      outerOnChange = props.onChange,\n      rows = props.rows,\n      autoSize = props.autoSize,\n      showCount = props.showCount,\n      textAreaProps = __rest(props, [\"className\", \"style\", \"defaultValue\", \"value\", \"onChange\", \"rows\", \"autoSize\", \"showCount\"]);\n\n  var _usePropsValue = usePropsValue(props),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var nativeTextAreaRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      clear: function clear() {\n        setValue('');\n      },\n      focus: function focus() {\n        var _a;\n\n        (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      blur: function blur() {\n        var _a;\n\n        (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n  });\n  useEffect(function () {\n    if (!autoSize) return;\n    var textArea = nativeTextAreaRef.current;\n    if (!textArea) return;\n    textArea.style.height = 'auto';\n    var height = textArea.scrollHeight;\n\n    if (typeof autoSize === 'object') {\n      var computedStyle = window.getComputedStyle(textArea);\n      var lineHeight = parseFloat(computedStyle.lineHeight);\n\n      if (autoSize.minRows) {\n        height = Math.max(height, autoSize.minRows * lineHeight);\n      }\n\n      if (autoSize.maxRows) {\n        height = Math.min(height, autoSize.maxRows * lineHeight);\n      }\n    }\n\n    textArea.style.height = height + \"px\";\n  }, [value, autoSize]);\n  var count;\n\n  if (typeof showCount === 'function') {\n    count = showCount(value.length, props.maxLength);\n  } else if (showCount) {\n    count = /*#__PURE__*/React.createElement(\"div\", {\n      className: classPrefix + \"-count\"\n    }, props.maxLength === undefined ? value.length : value.length + '/' + props.maxLength);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classPrefix + \"-wrapper\", className),\n    style: style\n  }, /*#__PURE__*/React.createElement(\"textarea\", Object.assign({\n    ref: nativeTextAreaRef\n  }, textAreaProps, {\n    className: classPrefix,\n    rows: rows,\n    value: value,\n    onChange: function onChange(e) {\n      setValue(e.target.value);\n    },\n    onFocus: function onFocus(e) {\n      var _a;\n\n      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    onBlur: function onBlur(e) {\n      var _a;\n\n      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    id: props.id\n  })), count);\n});\nTextArea.defaultProps = defaultProps;","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/text-area/text-area.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","forwardRef","useEffect","useImperativeHandle","useRef","classNames","usePropsValue","mergeProps","classPrefix","defaultProps","rows","showCount","autoSize","defaultValue","TextArea","ref","props","className","style","outerDefaultValue","outerValue","value","outerOnChange","onChange","textAreaProps","_usePropsValue","setValue","nativeTextAreaRef","clear","focus","_a","current","blur","textArea","height","scrollHeight","computedStyle","window","getComputedStyle","lineHeight","parseFloat","minRows","Math","max","maxRows","min","count","maxLength","createElement","undefined","assign","target","onFocus","onBlur","id"],"mappings":"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","sourcesContent":["var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nvar classPrefix = 'adm-text-area';\nvar defaultProps = {\n  rows: 2,\n  showCount: false,\n  autoSize: false,\n  defaultValue: ''\n};\nexport var TextArea = /*#__PURE__*/forwardRef(function (p, ref) {\n  var props = mergeProps(defaultProps, p);\n\n  var className = props.className,\n      style = props.style,\n      outerDefaultValue = props.defaultValue,\n      outerValue = props.value,\n      outerOnChange = props.onChange,\n      rows = props.rows,\n      autoSize = props.autoSize,\n      showCount = props.showCount,\n      textAreaProps = __rest(props, [\"className\", \"style\", \"defaultValue\", \"value\", \"onChange\", \"rows\", \"autoSize\", \"showCount\"]);\n\n  var _usePropsValue = usePropsValue(props),\n      value = _usePropsValue[0],\n      setValue = _usePropsValue[1];\n\n  var nativeTextAreaRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      clear: function clear() {\n        setValue('');\n      },\n      focus: function focus() {\n        var _a;\n\n        (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      blur: function blur() {\n        var _a;\n\n        (_a = nativeTextAreaRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n  });\n  useEffect(function () {\n    if (!autoSize) return;\n    var textArea = nativeTextAreaRef.current;\n    if (!textArea) return;\n    textArea.style.height = 'auto';\n    var height = textArea.scrollHeight;\n\n    if (typeof autoSize === 'object') {\n      var computedStyle = window.getComputedStyle(textArea);\n      var lineHeight = parseFloat(computedStyle.lineHeight);\n\n      if (autoSize.minRows) {\n        height = Math.max(height, autoSize.minRows * lineHeight);\n      }\n\n      if (autoSize.maxRows) {\n        height = Math.min(height, autoSize.maxRows * lineHeight);\n      }\n    }\n\n    textArea.style.height = height + \"px\";\n  }, [value, autoSize]);\n  var count;\n\n  if (typeof showCount === 'function') {\n    count = showCount(value.length, props.maxLength);\n  } else if (showCount) {\n    count = /*#__PURE__*/React.createElement(\"div\", {\n      className: classPrefix + \"-count\"\n    }, props.maxLength === undefined ? value.length : value.length + '/' + props.maxLength);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classPrefix + \"-wrapper\", className),\n    style: style\n  }, /*#__PURE__*/React.createElement(\"textarea\", Object.assign({\n    ref: nativeTextAreaRef\n  }, textAreaProps, {\n    className: classPrefix,\n    rows: rows,\n    value: value,\n    onChange: function onChange(e) {\n      setValue(e.target.value);\n    },\n    onFocus: function onFocus(e) {\n      var _a;\n\n      (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    onBlur: function onBlur(e) {\n      var _a;\n\n      (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    },\n    id: props.id\n  })), count);\n});\nTextArea.defaultProps = defaultProps;"]},"metadata":{},"sourceType":"module"}