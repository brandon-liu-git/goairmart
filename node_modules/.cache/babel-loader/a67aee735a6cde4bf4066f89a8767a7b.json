{"ast":null,"code":"import { useRef } from 'react';\nexport default function useCreation(factory, deps) {\n  var current = useRef({\n    deps: deps,\n    obj: undefined,\n    initialized: false\n  }).current;\n\n  if (current.initialized === false || !depsAreSame(current.deps, deps)) {\n    current.deps = deps;\n    current.obj = factory();\n    current.initialized = true;\n  }\n\n  return current.obj;\n}\n\nfunction depsAreSame(oldDeps, deps) {\n  if (oldDeps === deps) return true;\n\n  for (var i = 0; i < oldDeps.length; i++) {\n    if (oldDeps[i] !== deps[i]) return false;\n  }\n\n  return true;\n}","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/ahooks/es/useCreation/index.js"],"names":["useRef","useCreation","factory","deps","current","obj","undefined","initialized","depsAreSame","oldDeps","i","length"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,eAAe,SAASC,WAAT,CAAqBC,OAArB,EAA8BC,IAA9B,EAAoC;AACjD,MAAIC,OAAO,GAAGJ,MAAM,CAAC;AACnBG,IAAAA,IAAI,EAAEA,IADa;AAEnBE,IAAAA,GAAG,EAAEC,SAFc;AAGnBC,IAAAA,WAAW,EAAE;AAHM,GAAD,CAAN,CAIXH,OAJH;;AAMA,MAAIA,OAAO,CAACG,WAAR,KAAwB,KAAxB,IAAiC,CAACC,WAAW,CAACJ,OAAO,CAACD,IAAT,EAAeA,IAAf,CAAjD,EAAuE;AACrEC,IAAAA,OAAO,CAACD,IAAR,GAAeA,IAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,GAAcH,OAAO,EAArB;AACAE,IAAAA,OAAO,CAACG,WAAR,GAAsB,IAAtB;AACD;;AAED,SAAOH,OAAO,CAACC,GAAf;AACD;;AAED,SAASG,WAAT,CAAqBC,OAArB,EAA8BN,IAA9B,EAAoC;AAClC,MAAIM,OAAO,KAAKN,IAAhB,EAAsB,OAAO,IAAP;;AAEtB,OAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,OAAO,CAACE,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,QAAID,OAAO,CAACC,CAAD,CAAP,KAAeP,IAAI,CAACO,CAAD,CAAvB,EAA4B,OAAO,KAAP;AAC7B;;AAED,SAAO,IAAP;AACD","sourcesContent":["import { useRef } from 'react';\nexport default function useCreation(factory, deps) {\n  var current = useRef({\n    deps: deps,\n    obj: undefined,\n    initialized: false\n  }).current;\n\n  if (current.initialized === false || !depsAreSame(current.deps, deps)) {\n    current.deps = deps;\n    current.obj = factory();\n    current.initialized = true;\n  }\n\n  return current.obj;\n}\n\nfunction depsAreSame(oldDeps, deps) {\n  if (oldDeps === deps) return true;\n\n  for (var i = 0; i < oldDeps.length; i++) {\n    if (oldDeps[i] !== deps[i]) return false;\n  }\n\n  return true;\n}"]},"metadata":{},"sourceType":"module"}