{"ast":null,"code":"import React, { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { useSpring, animated } from '@react-spring/web';\nimport { useDrag } from '@use-gesture/react';\nimport Button from '../button';\nimport { nearest } from '../../utils/nearest';\nimport { withNativeProps } from '../../utils/native-props';\nvar defaultProps = {\n  rightActions: [],\n  leftActions: [],\n  closeOnTouchAway: true,\n  closeOnAction: true\n};\nexport var SwipeAction = /*#__PURE__*/forwardRef(function (p, ref) {\n  var props = mergeProps(defaultProps, p);\n  var rootRef = useRef(null);\n  var leftRef = useRef(null);\n  var rightRef = useRef(null);\n\n  function getWidth(ref) {\n    var element = ref.current;\n    if (!element) return 0;\n    return element.offsetWidth;\n  }\n\n  function getLeftWidth() {\n    return getWidth(leftRef);\n  }\n\n  function getRightWidth() {\n    return getWidth(rightRef);\n  }\n\n  var _useSpring = useSpring(function () {\n    return {\n      x: 0,\n      config: {\n        tension: 200,\n        friction: 30\n      }\n    };\n  }, []),\n      x = _useSpring[0].x,\n      api = _useSpring[1];\n\n  var draggingRef = useRef(false);\n  var bind = useDrag(function (state) {\n    draggingRef.current = true;\n    var _state$offset = state.offset,\n        offsetX = _state$offset[0];\n\n    if (state.last) {\n      var leftWidth = getLeftWidth();\n      var rightWidth = getRightWidth();\n      var position = offsetX + state.velocity[0] * state.direction[0] * 50;\n\n      if (offsetX > 0) {\n        position = Math.max(0, position);\n      } else if (offsetX < 0) {\n        position = Math.min(0, position);\n      } else {\n        position = 0;\n      }\n\n      api.start({\n        x: nearest([-rightWidth, 0, leftWidth], position)\n      });\n      window.setTimeout(function () {\n        draggingRef.current = false;\n      });\n    } else {\n      api.start({\n        x: offsetX,\n        immediate: true\n      });\n    }\n  }, {\n    from: function from() {\n      return [x.get(), 0];\n    },\n    bounds: function bounds() {\n      var leftWidth = getLeftWidth();\n      var rightWidth = getRightWidth();\n      return {\n        left: -rightWidth,\n        right: leftWidth\n      };\n    },\n    // rubberband: true,\n    axis: 'x',\n    preventScroll: true,\n    pointer: {\n      touch: true\n    }\n  });\n\n  function close() {\n    api.start({\n      x: 0\n    });\n  }\n\n  useImperativeHandle(ref, function () {\n    return {\n      show: function show(side) {\n        if (side === void 0) {\n          side = 'right';\n        }\n\n        if (side === 'right') {\n          api.start({\n            x: -getRightWidth()\n          });\n        } else if (side === 'left') {\n          api.start({\n            x: getLeftWidth()\n          });\n        }\n      },\n      close: close\n    };\n  });\n  useEffect(function () {\n    if (!props.closeOnTouchAway) return;\n\n    function handle(e) {\n      if (x.get() === 0) {\n        return;\n      }\n\n      var root = rootRef.current;\n\n      if (root && !root.contains(e.target)) {\n        close();\n      }\n    }\n\n    document.addEventListener('pointerdown', handle);\n    return function () {\n      document.removeEventListener('pointerdown', handle);\n    };\n  }, [props.closeOnTouchAway]);\n\n  function renderAction(action) {\n    var _a, _b;\n\n    var color = (_a = action.color) !== null && _a !== void 0 ? _a : 'light';\n    return /*#__PURE__*/React.createElement(Button, {\n      key: action.key,\n      className: 'adm-swipe-action-action-button',\n      style: {\n        '--background-color': (_b = colorRecord[color]) !== null && _b !== void 0 ? _b : color\n      },\n      onClick: function onClick(e) {\n        var _a, _b;\n\n        if (props.closeOnAction) {\n          close();\n        }\n\n        (_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action, e);\n        (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action);\n      }\n    }, action.text);\n  }\n\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: 'adm-swipe-action'\n  }, bind(), {\n    ref: rootRef,\n    onClickCapture: function onClickCapture(e) {\n      if (draggingRef.current) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    }\n  }), /*#__PURE__*/React.createElement(animated.div, {\n    className: 'adm-swipe-action-track',\n    style: {\n      x: x\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: 'adm-swipe-action-actions adm-swipe-action-actions-left',\n    ref: leftRef\n  }, props.leftActions.map(renderAction)), /*#__PURE__*/React.createElement(\"div\", {\n    className: 'adm-swipe-action-content',\n    onClickCapture: function onClickCapture(e) {\n      if (x.goal !== 0) {\n        e.preventDefault();\n        e.stopPropagation();\n        api.start({\n          x: 0\n        });\n      }\n    }\n  }, /*#__PURE__*/React.createElement(animated.div, {\n    style: {\n      pointerEvents: x.to(function (v) {\n        return v !== 0 && x.goal !== 0 ? 'none' : 'unset';\n      })\n    }\n  }, props.children)), /*#__PURE__*/React.createElement(\"div\", {\n    className: 'adm-swipe-action-actions adm-swipe-action-actions-right',\n    ref: rightRef\n  }, props.rightActions.map(renderAction)))));\n});\nvar colorRecord = {\n  light: 'var(--adm-color-light)',\n  weak: 'var(--adm-color-weak)',\n  primary: 'var(--adm-color-primary)',\n  success: 'var(--adm-color-success)',\n  warning: 'var(--adm-color-warning)',\n  danger: 'var(--adm-color-danger)'\n};","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/swipe-action/swipe-action.js"],"names":["React","forwardRef","useEffect","useImperativeHandle","useRef","mergeProps","useSpring","animated","useDrag","Button","nearest","withNativeProps","defaultProps","rightActions","leftActions","closeOnTouchAway","closeOnAction","SwipeAction","p","ref","props","rootRef","leftRef","rightRef","getWidth","element","current","offsetWidth","getLeftWidth","getRightWidth","_useSpring","x","config","tension","friction","api","draggingRef","bind","state","_state$offset","offset","offsetX","last","leftWidth","rightWidth","position","velocity","direction","Math","max","min","start","window","setTimeout","immediate","from","get","bounds","left","right","axis","preventScroll","pointer","touch","close","show","side","handle","e","root","contains","target","document","addEventListener","removeEventListener","renderAction","action","_a","_b","color","createElement","key","className","style","colorRecord","onClick","call","onAction","text","Object","assign","onClickCapture","stopPropagation","preventDefault","div","map","goal","pointerEvents","to","v","children","light","weak","primary","success","warning","danger"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,mBAAvC,EAA4DC,MAA5D,QAA0E,OAA1E;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,mBAApC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,YAAY,EAAE,EADG;AAEjBC,EAAAA,WAAW,EAAE,EAFI;AAGjBC,EAAAA,gBAAgB,EAAE,IAHD;AAIjBC,EAAAA,aAAa,EAAE;AAJE,CAAnB;AAMA,OAAO,IAAIC,WAAW,GAAG,aAAahB,UAAU,CAAC,UAAUiB,CAAV,EAAaC,GAAb,EAAkB;AACjE,MAAIC,KAAK,GAAGf,UAAU,CAACO,YAAD,EAAeM,CAAf,CAAtB;AACA,MAAIG,OAAO,GAAGjB,MAAM,CAAC,IAAD,CAApB;AACA,MAAIkB,OAAO,GAAGlB,MAAM,CAAC,IAAD,CAApB;AACA,MAAImB,QAAQ,GAAGnB,MAAM,CAAC,IAAD,CAArB;;AAEA,WAASoB,QAAT,CAAkBL,GAAlB,EAAuB;AACrB,QAAIM,OAAO,GAAGN,GAAG,CAACO,OAAlB;AACA,QAAI,CAACD,OAAL,EAAc,OAAO,CAAP;AACd,WAAOA,OAAO,CAACE,WAAf;AACD;;AAED,WAASC,YAAT,GAAwB;AACtB,WAAOJ,QAAQ,CAACF,OAAD,CAAf;AACD;;AAED,WAASO,aAAT,GAAyB;AACvB,WAAOL,QAAQ,CAACD,QAAD,CAAf;AACD;;AAED,MAAIO,UAAU,GAAGxB,SAAS,CAAC,YAAY;AACrC,WAAO;AACLyB,MAAAA,CAAC,EAAE,CADE;AAELC,MAAAA,MAAM,EAAE;AACNC,QAAAA,OAAO,EAAE,GADH;AAENC,QAAAA,QAAQ,EAAE;AAFJ;AAFH,KAAP;AAOD,GARyB,EAQvB,EARuB,CAA1B;AAAA,MASIH,CAAC,GAAGD,UAAU,CAAC,CAAD,CAAV,CAAcC,CATtB;AAAA,MAUII,GAAG,GAAGL,UAAU,CAAC,CAAD,CAVpB;;AAYA,MAAIM,WAAW,GAAGhC,MAAM,CAAC,KAAD,CAAxB;AACA,MAAIiC,IAAI,GAAG7B,OAAO,CAAC,UAAU8B,KAAV,EAAiB;AAClCF,IAAAA,WAAW,CAACV,OAAZ,GAAsB,IAAtB;AACA,QAAIa,aAAa,GAAGD,KAAK,CAACE,MAA1B;AAAA,QACIC,OAAO,GAAGF,aAAa,CAAC,CAAD,CAD3B;;AAGA,QAAID,KAAK,CAACI,IAAV,EAAgB;AACd,UAAIC,SAAS,GAAGf,YAAY,EAA5B;AACA,UAAIgB,UAAU,GAAGf,aAAa,EAA9B;AACA,UAAIgB,QAAQ,GAAGJ,OAAO,GAAGH,KAAK,CAACQ,QAAN,CAAe,CAAf,IAAoBR,KAAK,CAACS,SAAN,CAAgB,CAAhB,CAApB,GAAyC,EAAlE;;AAEA,UAAIN,OAAO,GAAG,CAAd,EAAiB;AACfI,QAAAA,QAAQ,GAAGG,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYJ,QAAZ,CAAX;AACD,OAFD,MAEO,IAAIJ,OAAO,GAAG,CAAd,EAAiB;AACtBI,QAAAA,QAAQ,GAAGG,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYL,QAAZ,CAAX;AACD,OAFM,MAEA;AACLA,QAAAA,QAAQ,GAAG,CAAX;AACD;;AAEDV,MAAAA,GAAG,CAACgB,KAAJ,CAAU;AACRpB,QAAAA,CAAC,EAAErB,OAAO,CAAC,CAAC,CAACkC,UAAF,EAAc,CAAd,EAAiBD,SAAjB,CAAD,EAA8BE,QAA9B;AADF,OAAV;AAGAO,MAAAA,MAAM,CAACC,UAAP,CAAkB,YAAY;AAC5BjB,QAAAA,WAAW,CAACV,OAAZ,GAAsB,KAAtB;AACD,OAFD;AAGD,KAnBD,MAmBO;AACLS,MAAAA,GAAG,CAACgB,KAAJ,CAAU;AACRpB,QAAAA,CAAC,EAAEU,OADK;AAERa,QAAAA,SAAS,EAAE;AAFH,OAAV;AAID;AACF,GA9BiB,EA8Bf;AACDC,IAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,aAAO,CAACxB,CAAC,CAACyB,GAAF,EAAD,EAAU,CAAV,CAAP;AACD,KAHA;AAIDC,IAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,UAAId,SAAS,GAAGf,YAAY,EAA5B;AACA,UAAIgB,UAAU,GAAGf,aAAa,EAA9B;AACA,aAAO;AACL6B,QAAAA,IAAI,EAAE,CAACd,UADF;AAELe,QAAAA,KAAK,EAAEhB;AAFF,OAAP;AAID,KAXA;AAYD;AACAiB,IAAAA,IAAI,EAAE,GAbL;AAcDC,IAAAA,aAAa,EAAE,IAdd;AAeDC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE;AADA;AAfR,GA9Be,CAAlB;;AAkDA,WAASC,KAAT,GAAiB;AACf7B,IAAAA,GAAG,CAACgB,KAAJ,CAAU;AACRpB,MAAAA,CAAC,EAAE;AADK,KAAV;AAGD;;AAED5B,EAAAA,mBAAmB,CAACgB,GAAD,EAAM,YAAY;AACnC,WAAO;AACL8C,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcC,IAAd,EAAoB;AACxB,YAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AACnBA,UAAAA,IAAI,GAAG,OAAP;AACD;;AAED,YAAIA,IAAI,KAAK,OAAb,EAAsB;AACpB/B,UAAAA,GAAG,CAACgB,KAAJ,CAAU;AACRpB,YAAAA,CAAC,EAAE,CAACF,aAAa;AADT,WAAV;AAGD,SAJD,MAIO,IAAIqC,IAAI,KAAK,MAAb,EAAqB;AAC1B/B,UAAAA,GAAG,CAACgB,KAAJ,CAAU;AACRpB,YAAAA,CAAC,EAAEH,YAAY;AADP,WAAV;AAGD;AACF,OAfI;AAgBLoC,MAAAA,KAAK,EAAEA;AAhBF,KAAP;AAkBD,GAnBkB,CAAnB;AAoBA9D,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI,CAACkB,KAAK,CAACL,gBAAX,EAA6B;;AAE7B,aAASoD,MAAT,CAAgBC,CAAhB,EAAmB;AACjB,UAAIrC,CAAC,CAACyB,GAAF,OAAY,CAAhB,EAAmB;AACjB;AACD;;AAED,UAAIa,IAAI,GAAGhD,OAAO,CAACK,OAAnB;;AAEA,UAAI2C,IAAI,IAAI,CAACA,IAAI,CAACC,QAAL,CAAcF,CAAC,CAACG,MAAhB,CAAb,EAAsC;AACpCP,QAAAA,KAAK;AACN;AACF;;AAEDQ,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,EAAyCN,MAAzC;AACA,WAAO,YAAY;AACjBK,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,aAA7B,EAA4CP,MAA5C;AACD,KAFD;AAGD,GAnBQ,EAmBN,CAAC/C,KAAK,CAACL,gBAAP,CAnBM,CAAT;;AAqBA,WAAS4D,YAAT,CAAsBC,MAAtB,EAA8B;AAC5B,QAAIC,EAAJ,EAAQC,EAAR;;AAEA,QAAIC,KAAK,GAAG,CAACF,EAAE,GAAGD,MAAM,CAACG,KAAb,MAAwB,IAAxB,IAAgCF,EAAE,KAAK,KAAK,CAA5C,GAAgDA,EAAhD,GAAqD,OAAjE;AACA,WAAO,aAAa7E,KAAK,CAACgF,aAAN,CAAoBvE,MAApB,EAA4B;AAC9CwE,MAAAA,GAAG,EAAEL,MAAM,CAACK,GADkC;AAE9CC,MAAAA,SAAS,EAAE,gCAFmC;AAG9CC,MAAAA,KAAK,EAAE;AACL,8BAAsB,CAACL,EAAE,GAAGM,WAAW,CAACL,KAAD,CAAjB,MAA8B,IAA9B,IAAsCD,EAAE,KAAK,KAAK,CAAlD,GAAsDA,EAAtD,GAA2DC;AAD5E,OAHuC;AAM9CM,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBjB,CAAjB,EAAoB;AAC3B,YAAIS,EAAJ,EAAQC,EAAR;;AAEA,YAAI1D,KAAK,CAACJ,aAAV,EAAyB;AACvBgD,UAAAA,KAAK;AACN;;AAED,SAACa,EAAE,GAAGD,MAAM,CAACS,OAAb,MAA0B,IAA1B,IAAkCR,EAAE,KAAK,KAAK,CAA9C,GAAkD,KAAK,CAAvD,GAA2DA,EAAE,CAACS,IAAH,CAAQV,MAAR,EAAgBR,CAAhB,CAA3D;AACA,SAACU,EAAE,GAAG1D,KAAK,CAACmE,QAAZ,MAA0B,IAA1B,IAAkCT,EAAE,KAAK,KAAK,CAA9C,GAAkD,KAAK,CAAvD,GAA2DA,EAAE,CAACQ,IAAH,CAAQlE,KAAR,EAAewD,MAAf,CAA3D;AACD;AAf6C,KAA5B,EAgBjBA,MAAM,CAACY,IAhBU,CAApB;AAiBD;;AAED,SAAO7E,eAAe,CAACS,KAAD,EAAQ,aAAapB,KAAK,CAACgF,aAAN,CAAoB,KAApB,EAA2BS,MAAM,CAACC,MAAP,CAAc;AAClFR,IAAAA,SAAS,EAAE;AADuE,GAAd,EAEnE7C,IAAI,EAF+D,EAE3D;AACTlB,IAAAA,GAAG,EAAEE,OADI;AAETsE,IAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBvB,CAAxB,EAA2B;AACzC,UAAIhC,WAAW,CAACV,OAAhB,EAAyB;AACvB0C,QAAAA,CAAC,CAACwB,eAAF;AACAxB,QAAAA,CAAC,CAACyB,cAAF;AACD;AACF;AAPQ,GAF2D,CAA3B,EAUvC,aAAa7F,KAAK,CAACgF,aAAN,CAAoBzE,QAAQ,CAACuF,GAA7B,EAAkC;AACjDZ,IAAAA,SAAS,EAAE,wBADsC;AAEjDC,IAAAA,KAAK,EAAE;AACLpD,MAAAA,CAAC,EAAEA;AADE;AAF0C,GAAlC,EAKd,aAAa/B,KAAK,CAACgF,aAAN,CAAoB,KAApB,EAA2B;AACzCE,IAAAA,SAAS,EAAE,wDAD8B;AAEzC/D,IAAAA,GAAG,EAAEG;AAFoC,GAA3B,EAGbF,KAAK,CAACN,WAAN,CAAkBiF,GAAlB,CAAsBpB,YAAtB,CAHa,CALC,EAQwB,aAAa3E,KAAK,CAACgF,aAAN,CAAoB,KAApB,EAA2B;AAC/EE,IAAAA,SAAS,EAAE,0BADoE;AAE/ES,IAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBvB,CAAxB,EAA2B;AACzC,UAAIrC,CAAC,CAACiE,IAAF,KAAW,CAAf,EAAkB;AAChB5B,QAAAA,CAAC,CAACyB,cAAF;AACAzB,QAAAA,CAAC,CAACwB,eAAF;AACAzD,QAAAA,GAAG,CAACgB,KAAJ,CAAU;AACRpB,UAAAA,CAAC,EAAE;AADK,SAAV;AAGD;AACF;AAV8E,GAA3B,EAWnD,aAAa/B,KAAK,CAACgF,aAAN,CAAoBzE,QAAQ,CAACuF,GAA7B,EAAkC;AAChDX,IAAAA,KAAK,EAAE;AACLc,MAAAA,aAAa,EAAElE,CAAC,CAACmE,EAAF,CAAK,UAAUC,CAAV,EAAa;AAC/B,eAAOA,CAAC,KAAK,CAAN,IAAWpE,CAAC,CAACiE,IAAF,KAAW,CAAtB,GAA0B,MAA1B,GAAmC,OAA1C;AACD,OAFc;AADV;AADyC,GAAlC,EAMb5E,KAAK,CAACgF,QANO,CAXsC,CARrC,EAyBI,aAAapG,KAAK,CAACgF,aAAN,CAAoB,KAApB,EAA2B;AAC3DE,IAAAA,SAAS,EAAE,yDADgD;AAE3D/D,IAAAA,GAAG,EAAEI;AAFsD,GAA3B,EAG/BH,KAAK,CAACP,YAAN,CAAmBkF,GAAnB,CAAuBpB,YAAvB,CAH+B,CAzBjB,CAV0B,CAArB,CAAtB;AAuCD,CAhM+C,CAAzC;AAiMP,IAAIS,WAAW,GAAG;AAChBiB,EAAAA,KAAK,EAAE,wBADS;AAEhBC,EAAAA,IAAI,EAAE,uBAFU;AAGhBC,EAAAA,OAAO,EAAE,0BAHO;AAIhBC,EAAAA,OAAO,EAAE,0BAJO;AAKhBC,EAAAA,OAAO,EAAE,0BALO;AAMhBC,EAAAA,MAAM,EAAE;AANQ,CAAlB","sourcesContent":["import React, { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { useSpring, animated } from '@react-spring/web';\nimport { useDrag } from '@use-gesture/react';\nimport Button from '../button';\nimport { nearest } from '../../utils/nearest';\nimport { withNativeProps } from '../../utils/native-props';\nvar defaultProps = {\n  rightActions: [],\n  leftActions: [],\n  closeOnTouchAway: true,\n  closeOnAction: true\n};\nexport var SwipeAction = /*#__PURE__*/forwardRef(function (p, ref) {\n  var props = mergeProps(defaultProps, p);\n  var rootRef = useRef(null);\n  var leftRef = useRef(null);\n  var rightRef = useRef(null);\n\n  function getWidth(ref) {\n    var element = ref.current;\n    if (!element) return 0;\n    return element.offsetWidth;\n  }\n\n  function getLeftWidth() {\n    return getWidth(leftRef);\n  }\n\n  function getRightWidth() {\n    return getWidth(rightRef);\n  }\n\n  var _useSpring = useSpring(function () {\n    return {\n      x: 0,\n      config: {\n        tension: 200,\n        friction: 30\n      }\n    };\n  }, []),\n      x = _useSpring[0].x,\n      api = _useSpring[1];\n\n  var draggingRef = useRef(false);\n  var bind = useDrag(function (state) {\n    draggingRef.current = true;\n    var _state$offset = state.offset,\n        offsetX = _state$offset[0];\n\n    if (state.last) {\n      var leftWidth = getLeftWidth();\n      var rightWidth = getRightWidth();\n      var position = offsetX + state.velocity[0] * state.direction[0] * 50;\n\n      if (offsetX > 0) {\n        position = Math.max(0, position);\n      } else if (offsetX < 0) {\n        position = Math.min(0, position);\n      } else {\n        position = 0;\n      }\n\n      api.start({\n        x: nearest([-rightWidth, 0, leftWidth], position)\n      });\n      window.setTimeout(function () {\n        draggingRef.current = false;\n      });\n    } else {\n      api.start({\n        x: offsetX,\n        immediate: true\n      });\n    }\n  }, {\n    from: function from() {\n      return [x.get(), 0];\n    },\n    bounds: function bounds() {\n      var leftWidth = getLeftWidth();\n      var rightWidth = getRightWidth();\n      return {\n        left: -rightWidth,\n        right: leftWidth\n      };\n    },\n    // rubberband: true,\n    axis: 'x',\n    preventScroll: true,\n    pointer: {\n      touch: true\n    }\n  });\n\n  function close() {\n    api.start({\n      x: 0\n    });\n  }\n\n  useImperativeHandle(ref, function () {\n    return {\n      show: function show(side) {\n        if (side === void 0) {\n          side = 'right';\n        }\n\n        if (side === 'right') {\n          api.start({\n            x: -getRightWidth()\n          });\n        } else if (side === 'left') {\n          api.start({\n            x: getLeftWidth()\n          });\n        }\n      },\n      close: close\n    };\n  });\n  useEffect(function () {\n    if (!props.closeOnTouchAway) return;\n\n    function handle(e) {\n      if (x.get() === 0) {\n        return;\n      }\n\n      var root = rootRef.current;\n\n      if (root && !root.contains(e.target)) {\n        close();\n      }\n    }\n\n    document.addEventListener('pointerdown', handle);\n    return function () {\n      document.removeEventListener('pointerdown', handle);\n    };\n  }, [props.closeOnTouchAway]);\n\n  function renderAction(action) {\n    var _a, _b;\n\n    var color = (_a = action.color) !== null && _a !== void 0 ? _a : 'light';\n    return /*#__PURE__*/React.createElement(Button, {\n      key: action.key,\n      className: 'adm-swipe-action-action-button',\n      style: {\n        '--background-color': (_b = colorRecord[color]) !== null && _b !== void 0 ? _b : color\n      },\n      onClick: function onClick(e) {\n        var _a, _b;\n\n        if (props.closeOnAction) {\n          close();\n        }\n\n        (_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action, e);\n        (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action);\n      }\n    }, action.text);\n  }\n\n  return withNativeProps(props, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: 'adm-swipe-action'\n  }, bind(), {\n    ref: rootRef,\n    onClickCapture: function onClickCapture(e) {\n      if (draggingRef.current) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    }\n  }), /*#__PURE__*/React.createElement(animated.div, {\n    className: 'adm-swipe-action-track',\n    style: {\n      x: x\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: 'adm-swipe-action-actions adm-swipe-action-actions-left',\n    ref: leftRef\n  }, props.leftActions.map(renderAction)), /*#__PURE__*/React.createElement(\"div\", {\n    className: 'adm-swipe-action-content',\n    onClickCapture: function onClickCapture(e) {\n      if (x.goal !== 0) {\n        e.preventDefault();\n        e.stopPropagation();\n        api.start({\n          x: 0\n        });\n      }\n    }\n  }, /*#__PURE__*/React.createElement(animated.div, {\n    style: {\n      pointerEvents: x.to(function (v) {\n        return v !== 0 && x.goal !== 0 ? 'none' : 'unset';\n      })\n    }\n  }, props.children)), /*#__PURE__*/React.createElement(\"div\", {\n    className: 'adm-swipe-action-actions adm-swipe-action-actions-right',\n    ref: rightRef\n  }, props.rightActions.map(renderAction)))));\n});\nvar colorRecord = {\n  light: 'var(--adm-color-light)',\n  weak: 'var(--adm-color-weak)',\n  primary: 'var(--adm-color-primary)',\n  success: 'var(--adm-color-success)',\n  warning: 'var(--adm-color-warning)',\n  danger: 'var(--adm-color-danger)'\n};"]},"metadata":{},"sourceType":"module"}