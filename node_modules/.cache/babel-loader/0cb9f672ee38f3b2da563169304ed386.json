{"ast":null,"code":"var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport { useEffect, useRef } from 'react';\nimport { getTargetElement } from '../utils/dom'; // 键盘事件 keyCode 别名\n\nvar aliasKeyCodeMap = {\n  esc: 27,\n  tab: 9,\n  enter: 13,\n  space: 32,\n  up: 38,\n  left: 37,\n  right: 39,\n  down: 40,\n  \"delete\": [8, 46]\n}; // 键盘事件 key 别名\n\nvar aliasKeyMap = {\n  esc: 'Escape',\n  tab: 'Tab',\n  enter: 'Enter',\n  space: ' ',\n  // IE11 uses key names without `Arrow` prefix for arrow keys.\n  up: ['Up', 'ArrowUp'],\n  left: ['Left', 'ArrowLeft'],\n  right: ['Right', 'ArrowRight'],\n  down: ['Down', 'ArrowDown'],\n  \"delete\": ['Backspace', 'Delete']\n}; // 修饰键\n\nvar modifierKey = {\n  ctrl: function ctrl(event) {\n    return event.ctrlKey;\n  },\n  shift: function shift(event) {\n    return event.shiftKey;\n  },\n  alt: function alt(event) {\n    return event.altKey;\n  },\n  meta: function meta(event) {\n    return event.metaKey;\n  }\n}; // 返回空对象\n\nvar noop = function noop() {};\n/**\n * 判断对象类型\n * @param [obj: any] 参数对象\n * @returns String\n */\n\n\nfunction isType(obj) {\n  return Object.prototype.toString.call(obj).replace(/^\\[object (.+)\\]$/, '$1').toLowerCase();\n}\n/**\n * 判断按键是否激活\n * @param [event: KeyboardEvent]键盘事件\n * @param [keyFilter: any] 当前键\n * @returns Boolean\n */\n\n\nfunction genFilterKey(event, keyFilter) {\n  var e_1, _a; // 浏览器自动补全 input 的时候，会触发 keyDown、keyUp 事件，但此时 event.key 等为空\n\n\n  if (!event.key) {\n    return false;\n  }\n\n  var type = isType(keyFilter); // 数字类型直接匹配事件的 keyCode\n\n  if (type === 'number') {\n    return event.keyCode === keyFilter;\n  } // 字符串依次判断是否有组合键\n\n\n  var genArr = keyFilter.split('.');\n  var genLen = 0;\n\n  try {\n    for (var genArr_1 = __values(genArr), genArr_1_1 = genArr_1.next(); !genArr_1_1.done; genArr_1_1 = genArr_1.next()) {\n      var key = genArr_1_1.value; // 组合键\n\n      var genModifier = modifierKey[key]; // key 别名\n\n      var aliasKey = aliasKeyMap[key]; // keyCode 别名\n\n      var aliasKeyCode = aliasKeyCodeMap[key];\n      /**\n       * 满足以上规则\n       * 1. 自定义组合键别名\n       * 2. 自定义 key 别名\n       * 3. 自定义 keyCode 别名\n       * 4. 匹配 key 或 keyCode\n       */\n\n      if (genModifier && genModifier(event) || (aliasKey && isType(aliasKey) === 'array' ? aliasKey.includes(event.key) : aliasKey === event.key) || (aliasKeyCode && isType(aliasKeyCode) === 'array' ? aliasKeyCode.includes(event.keyCode) : aliasKeyCode === event.keyCode) || event.key.toUpperCase() === key.toUpperCase()) {\n        genLen++;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (genArr_1_1 && !genArr_1_1.done && (_a = genArr_1[\"return\"])) _a.call(genArr_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return genLen === genArr.length;\n}\n/**\n * 键盘输入预处理方法\n * @param [keyFilter: any] 当前键\n * @returns () => Boolean\n */\n\n\nfunction genKeyFormater(keyFilter) {\n  var type = isType(keyFilter);\n\n  if (type === 'function') {\n    return keyFilter;\n  }\n\n  if (type === 'string' || type === 'number') {\n    return function (event) {\n      return genFilterKey(event, keyFilter);\n    };\n  }\n\n  if (type === 'array') {\n    return function (event) {\n      return keyFilter.some(function (item) {\n        return genFilterKey(event, item);\n      });\n    };\n  }\n\n  return keyFilter ? function () {\n    return true;\n  } : function () {\n    return false;\n  };\n}\n\nvar defaultEvents = ['keydown'];\n\nfunction useKeyPress(keyFilter, eventHandler, option) {\n  if (eventHandler === void 0) {\n    eventHandler = noop;\n  }\n\n  if (option === void 0) {\n    option = {};\n  }\n\n  var _a = option.events,\n      events = _a === void 0 ? defaultEvents : _a,\n      target = option.target;\n  var callbackRef = useRef(eventHandler);\n  callbackRef.current = eventHandler;\n  useEffect(function () {\n    var e_2, _a;\n\n    var callbackHandler = function callbackHandler(event) {\n      var genGuard = genKeyFormater(keyFilter);\n\n      if (genGuard(event)) {\n        return callbackRef.current(event);\n      }\n    };\n\n    var el = getTargetElement(target, window);\n\n    try {\n      for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {\n        var eventName = events_1_1.value;\n        el.addEventListener(eventName, callbackHandler);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (events_1_1 && !events_1_1.done && (_a = events_1[\"return\"])) _a.call(events_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return function () {\n      var e_3, _a;\n\n      try {\n        for (var events_2 = __values(events), events_2_1 = events_2.next(); !events_2_1.done; events_2_1 = events_2.next()) {\n          var eventName = events_2_1.value;\n          el.removeEventListener(eventName, callbackHandler);\n        }\n      } catch (e_3_1) {\n        e_3 = {\n          error: e_3_1\n        };\n      } finally {\n        try {\n          if (events_2_1 && !events_2_1.done && (_a = events_2[\"return\"])) _a.call(events_2);\n        } finally {\n          if (e_3) throw e_3.error;\n        }\n      }\n    };\n  }, [events, keyFilter, target]);\n}\n\nexport default useKeyPress;","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/ahooks/es/useKeyPress/index.js"],"names":["__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","useEffect","useRef","getTargetElement","aliasKeyCodeMap","esc","tab","enter","space","up","left","right","down","aliasKeyMap","modifierKey","ctrl","event","ctrlKey","shift","shiftKey","alt","altKey","meta","metaKey","noop","isType","obj","Object","prototype","toString","replace","toLowerCase","genFilterKey","keyFilter","e_1","_a","key","type","keyCode","genArr","split","genLen","genArr_1","genArr_1_1","genModifier","aliasKey","aliasKeyCode","includes","toUpperCase","e_1_1","error","genKeyFormater","some","item","defaultEvents","useKeyPress","eventHandler","option","events","target","callbackRef","current","e_2","callbackHandler","genGuard","el","window","events_1","events_1_1","eventName","addEventListener","e_2_1","e_3","events_2","events_2_1","removeEventListener","e_3_1"],"mappings":"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","sourcesContent":["var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport { useEffect, useRef } from 'react';\nimport { getTargetElement } from '../utils/dom'; // 键盘事件 keyCode 别名\n\nvar aliasKeyCodeMap = {\n  esc: 27,\n  tab: 9,\n  enter: 13,\n  space: 32,\n  up: 38,\n  left: 37,\n  right: 39,\n  down: 40,\n  \"delete\": [8, 46]\n}; // 键盘事件 key 别名\n\nvar aliasKeyMap = {\n  esc: 'Escape',\n  tab: 'Tab',\n  enter: 'Enter',\n  space: ' ',\n  // IE11 uses key names without `Arrow` prefix for arrow keys.\n  up: ['Up', 'ArrowUp'],\n  left: ['Left', 'ArrowLeft'],\n  right: ['Right', 'ArrowRight'],\n  down: ['Down', 'ArrowDown'],\n  \"delete\": ['Backspace', 'Delete']\n}; // 修饰键\n\nvar modifierKey = {\n  ctrl: function ctrl(event) {\n    return event.ctrlKey;\n  },\n  shift: function shift(event) {\n    return event.shiftKey;\n  },\n  alt: function alt(event) {\n    return event.altKey;\n  },\n  meta: function meta(event) {\n    return event.metaKey;\n  }\n}; // 返回空对象\n\nvar noop = function noop() {};\n/**\n * 判断对象类型\n * @param [obj: any] 参数对象\n * @returns String\n */\n\n\nfunction isType(obj) {\n  return Object.prototype.toString.call(obj).replace(/^\\[object (.+)\\]$/, '$1').toLowerCase();\n}\n/**\n * 判断按键是否激活\n * @param [event: KeyboardEvent]键盘事件\n * @param [keyFilter: any] 当前键\n * @returns Boolean\n */\n\n\nfunction genFilterKey(event, keyFilter) {\n  var e_1, _a; // 浏览器自动补全 input 的时候，会触发 keyDown、keyUp 事件，但此时 event.key 等为空\n\n\n  if (!event.key) {\n    return false;\n  }\n\n  var type = isType(keyFilter); // 数字类型直接匹配事件的 keyCode\n\n  if (type === 'number') {\n    return event.keyCode === keyFilter;\n  } // 字符串依次判断是否有组合键\n\n\n  var genArr = keyFilter.split('.');\n  var genLen = 0;\n\n  try {\n    for (var genArr_1 = __values(genArr), genArr_1_1 = genArr_1.next(); !genArr_1_1.done; genArr_1_1 = genArr_1.next()) {\n      var key = genArr_1_1.value; // 组合键\n\n      var genModifier = modifierKey[key]; // key 别名\n\n      var aliasKey = aliasKeyMap[key]; // keyCode 别名\n\n      var aliasKeyCode = aliasKeyCodeMap[key];\n      /**\n       * 满足以上规则\n       * 1. 自定义组合键别名\n       * 2. 自定义 key 别名\n       * 3. 自定义 keyCode 别名\n       * 4. 匹配 key 或 keyCode\n       */\n\n      if (genModifier && genModifier(event) || (aliasKey && isType(aliasKey) === 'array' ? aliasKey.includes(event.key) : aliasKey === event.key) || (aliasKeyCode && isType(aliasKeyCode) === 'array' ? aliasKeyCode.includes(event.keyCode) : aliasKeyCode === event.keyCode) || event.key.toUpperCase() === key.toUpperCase()) {\n        genLen++;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (genArr_1_1 && !genArr_1_1.done && (_a = genArr_1[\"return\"])) _a.call(genArr_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return genLen === genArr.length;\n}\n/**\n * 键盘输入预处理方法\n * @param [keyFilter: any] 当前键\n * @returns () => Boolean\n */\n\n\nfunction genKeyFormater(keyFilter) {\n  var type = isType(keyFilter);\n\n  if (type === 'function') {\n    return keyFilter;\n  }\n\n  if (type === 'string' || type === 'number') {\n    return function (event) {\n      return genFilterKey(event, keyFilter);\n    };\n  }\n\n  if (type === 'array') {\n    return function (event) {\n      return keyFilter.some(function (item) {\n        return genFilterKey(event, item);\n      });\n    };\n  }\n\n  return keyFilter ? function () {\n    return true;\n  } : function () {\n    return false;\n  };\n}\n\nvar defaultEvents = ['keydown'];\n\nfunction useKeyPress(keyFilter, eventHandler, option) {\n  if (eventHandler === void 0) {\n    eventHandler = noop;\n  }\n\n  if (option === void 0) {\n    option = {};\n  }\n\n  var _a = option.events,\n      events = _a === void 0 ? defaultEvents : _a,\n      target = option.target;\n  var callbackRef = useRef(eventHandler);\n  callbackRef.current = eventHandler;\n  useEffect(function () {\n    var e_2, _a;\n\n    var callbackHandler = function callbackHandler(event) {\n      var genGuard = genKeyFormater(keyFilter);\n\n      if (genGuard(event)) {\n        return callbackRef.current(event);\n      }\n    };\n\n    var el = getTargetElement(target, window);\n\n    try {\n      for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {\n        var eventName = events_1_1.value;\n        el.addEventListener(eventName, callbackHandler);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (events_1_1 && !events_1_1.done && (_a = events_1[\"return\"])) _a.call(events_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return function () {\n      var e_3, _a;\n\n      try {\n        for (var events_2 = __values(events), events_2_1 = events_2.next(); !events_2_1.done; events_2_1 = events_2.next()) {\n          var eventName = events_2_1.value;\n          el.removeEventListener(eventName, callbackHandler);\n        }\n      } catch (e_3_1) {\n        e_3 = {\n          error: e_3_1\n        };\n      } finally {\n        try {\n          if (events_2_1 && !events_2_1.done && (_a = events_2[\"return\"])) _a.call(events_2);\n        } finally {\n          if (e_3) throw e_3.error;\n        }\n      }\n    };\n  }, [events, keyFilter, target]);\n}\n\nexport default useKeyPress;"]},"metadata":{},"sourceType":"module"}