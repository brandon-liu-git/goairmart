{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { CloseOutline } from 'antd-mobile-icons';\nimport classNames from 'classnames';\nimport Image from '../image';\nimport Loading from '../loading';\nimport { useConfig } from '../config-provider';\nvar classPrefix = \"adm-image-uploader\";\n\nvar PreviewItem = function PreviewItem(props) {\n  var _useConfig = useConfig(),\n      locale = _useConfig.locale;\n\n  var url = props.url,\n      file = props.file,\n      deletable = props.deletable,\n      onDelete = props.onDelete;\n  var src = useMemo(function () {\n    if (url) {\n      return url;\n    }\n\n    if (file) {\n      return URL.createObjectURL(file);\n    }\n\n    return '';\n  }, [url, file]);\n\n  function renderLoading() {\n    return props.status === 'pending' && /*#__PURE__*/React.createElement(\"div\", {\n      className: classPrefix + \"-cell-mask\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classPrefix + \"-cell-loading\"\n    }, /*#__PURE__*/React.createElement(Loading, {\n      color: '#fff'\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: classPrefix + \"-cell-mask-message\"\n    }, locale.ImageUploader.uploading)));\n  }\n\n  function renderDelete() {\n    return deletable && /*#__PURE__*/React.createElement(\"span\", {\n      className: classPrefix + \"-cell-delete\",\n      onClick: onDelete\n    }, /*#__PURE__*/React.createElement(CloseOutline, {\n      className: classPrefix + \"-cell-delete-icon\"\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classPrefix + \"-cell\", props.status === 'fail' && classPrefix + \"-cell-fail\")\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: classPrefix + \"-cell-image\",\n    src: src,\n    fit: 'cover',\n    onClick: props.onClick\n  }), renderLoading(), renderDelete());\n};\n\nexport default PreviewItem;","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/components/image-uploader/preview-item.js"],"names":["React","useMemo","CloseOutline","classNames","Image","Loading","useConfig","classPrefix","PreviewItem","props","_useConfig","locale","url","file","deletable","onDelete","src","URL","createObjectURL","renderLoading","status","createElement","className","color","ImageUploader","uploading","renderDelete","onClick","fit"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,IAAIC,WAAW,GAAG,oBAAlB;;AAEA,IAAIC,WAAW,GAAG,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AAC5C,MAAIC,UAAU,GAAGJ,SAAS,EAA1B;AAAA,MACIK,MAAM,GAAGD,UAAU,CAACC,MADxB;;AAGA,MAAIC,GAAG,GAAGH,KAAK,CAACG,GAAhB;AAAA,MACIC,IAAI,GAAGJ,KAAK,CAACI,IADjB;AAAA,MAEIC,SAAS,GAAGL,KAAK,CAACK,SAFtB;AAAA,MAGIC,QAAQ,GAAGN,KAAK,CAACM,QAHrB;AAIA,MAAIC,GAAG,GAAGf,OAAO,CAAC,YAAY;AAC5B,QAAIW,GAAJ,EAAS;AACP,aAAOA,GAAP;AACD;;AAED,QAAIC,IAAJ,EAAU;AACR,aAAOI,GAAG,CAACC,eAAJ,CAAoBL,IAApB,CAAP;AACD;;AAED,WAAO,EAAP;AACD,GAVgB,EAUd,CAACD,GAAD,EAAMC,IAAN,CAVc,CAAjB;;AAYA,WAASM,aAAT,GAAyB;AACvB,WAAOV,KAAK,CAACW,MAAN,KAAiB,SAAjB,IAA8B,aAAapB,KAAK,CAACqB,aAAN,CAAoB,KAApB,EAA2B;AAC3EC,MAAAA,SAAS,EAAEf,WAAW,GAAG;AADkD,KAA3B,EAE/C,aAAaP,KAAK,CAACqB,aAAN,CAAoB,MAApB,EAA4B;AAC1CC,MAAAA,SAAS,EAAEf,WAAW,GAAG;AADiB,KAA5B,EAEb,aAAaP,KAAK,CAACqB,aAAN,CAAoBhB,OAApB,EAA6B;AAC3CkB,MAAAA,KAAK,EAAE;AADoC,KAA7B,CAFA,EAIZ,aAAavB,KAAK,CAACqB,aAAN,CAAoB,MAApB,EAA4B;AAC3CC,MAAAA,SAAS,EAAEf,WAAW,GAAG;AADkB,KAA5B,EAEdI,MAAM,CAACa,aAAP,CAAqBC,SAFP,CAJD,CAFkC,CAAlD;AASD;;AAED,WAASC,YAAT,GAAwB;AACtB,WAAOZ,SAAS,IAAI,aAAad,KAAK,CAACqB,aAAN,CAAoB,MAApB,EAA4B;AAC3DC,MAAAA,SAAS,EAAEf,WAAW,GAAG,cADkC;AAE3DoB,MAAAA,OAAO,EAAEZ;AAFkD,KAA5B,EAG9B,aAAaf,KAAK,CAACqB,aAAN,CAAoBnB,YAApB,EAAkC;AAChDoB,MAAAA,SAAS,EAAEf,WAAW,GAAG;AADuB,KAAlC,CAHiB,CAAjC;AAMD;;AAED,SAAO,aAAaP,KAAK,CAACqB,aAAN,CAAoB,KAApB,EAA2B;AAC7CC,IAAAA,SAAS,EAAEnB,UAAU,CAACI,WAAW,GAAG,OAAf,EAAwBE,KAAK,CAACW,MAAN,KAAiB,MAAjB,IAA2Bb,WAAW,GAAG,YAAjE;AADwB,GAA3B,EAEjB,aAAaP,KAAK,CAACqB,aAAN,CAAoBjB,KAApB,EAA2B;AACzCkB,IAAAA,SAAS,EAAEf,WAAW,GAAG,aADgB;AAEzCS,IAAAA,GAAG,EAAEA,GAFoC;AAGzCY,IAAAA,GAAG,EAAE,OAHoC;AAIzCD,IAAAA,OAAO,EAAElB,KAAK,CAACkB;AAJ0B,GAA3B,CAFI,EAOhBR,aAAa,EAPG,EAOCO,YAAY,EAPb,CAApB;AAQD,CAjDD;;AAmDA,eAAelB,WAAf","sourcesContent":["import React, { useMemo } from 'react';\nimport { CloseOutline } from 'antd-mobile-icons';\nimport classNames from 'classnames';\nimport Image from '../image';\nimport Loading from '../loading';\nimport { useConfig } from '../config-provider';\nvar classPrefix = \"adm-image-uploader\";\n\nvar PreviewItem = function PreviewItem(props) {\n  var _useConfig = useConfig(),\n      locale = _useConfig.locale;\n\n  var url = props.url,\n      file = props.file,\n      deletable = props.deletable,\n      onDelete = props.onDelete;\n  var src = useMemo(function () {\n    if (url) {\n      return url;\n    }\n\n    if (file) {\n      return URL.createObjectURL(file);\n    }\n\n    return '';\n  }, [url, file]);\n\n  function renderLoading() {\n    return props.status === 'pending' && /*#__PURE__*/React.createElement(\"div\", {\n      className: classPrefix + \"-cell-mask\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classPrefix + \"-cell-loading\"\n    }, /*#__PURE__*/React.createElement(Loading, {\n      color: '#fff'\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: classPrefix + \"-cell-mask-message\"\n    }, locale.ImageUploader.uploading)));\n  }\n\n  function renderDelete() {\n    return deletable && /*#__PURE__*/React.createElement(\"span\", {\n      className: classPrefix + \"-cell-delete\",\n      onClick: onDelete\n    }, /*#__PURE__*/React.createElement(CloseOutline, {\n      className: classPrefix + \"-cell-delete-icon\"\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classPrefix + \"-cell\", props.status === 'fail' && classPrefix + \"-cell-fail\")\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: classPrefix + \"-cell-image\",\n    src: src,\n    fit: 'cover',\n    onClick: props.onClick\n  }), renderLoading(), renderDelete());\n};\n\nexport default PreviewItem;"]},"metadata":{},"sourceType":"module"}