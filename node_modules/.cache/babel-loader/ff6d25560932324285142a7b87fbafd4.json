{"ast":null,"code":"import { useLayoutEffect } from 'react';\nimport { usePersistFn } from 'ahooks';\nexport function useResizeEffect(effect, targetRef) {\n  var fn = usePersistFn(effect);\n  useLayoutEffect(function () {\n    var target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      var observer = new ResizeObserver(function () {\n        fn(target);\n      });\n      observer.observe(target);\n      return function () {\n        observer.disconnect();\n      };\n    } else {\n      fn(target);\n    }\n  }, [targetRef]);\n}","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/utils/use-resize-effect.js"],"names":["useLayoutEffect","usePersistFn","useResizeEffect","effect","targetRef","fn","target","current","window","ResizeObserver","observer","observe","disconnect"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,SAASC,YAAT,QAA6B,QAA7B;AACA,OAAO,SAASC,eAAT,CAAyBC,MAAzB,EAAiCC,SAAjC,EAA4C;AACjD,MAAIC,EAAE,GAAGJ,YAAY,CAACE,MAAD,CAArB;AACAH,EAAAA,eAAe,CAAC,YAAY;AAC1B,QAAIM,MAAM,GAAGF,SAAS,CAACG,OAAvB;AACA,QAAI,CAACD,MAAL,EAAa;;AAEb,QAAIE,MAAM,CAACC,cAAX,EAA2B;AACzB,UAAIC,QAAQ,GAAG,IAAID,cAAJ,CAAmB,YAAY;AAC5CJ,QAAAA,EAAE,CAACC,MAAD,CAAF;AACD,OAFc,CAAf;AAGAI,MAAAA,QAAQ,CAACC,OAAT,CAAiBL,MAAjB;AACA,aAAO,YAAY;AACjBI,QAAAA,QAAQ,CAACE,UAAT;AACD,OAFD;AAGD,KARD,MAQO;AACLP,MAAAA,EAAE,CAACC,MAAD,CAAF;AACD;AACF,GAfc,EAeZ,CAACF,SAAD,CAfY,CAAf;AAgBD","sourcesContent":["import { useLayoutEffect } from 'react';\nimport { usePersistFn } from 'ahooks';\nexport function useResizeEffect(effect, targetRef) {\n  var fn = usePersistFn(effect);\n  useLayoutEffect(function () {\n    var target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      var observer = new ResizeObserver(function () {\n        fn(target);\n      });\n      observer.observe(target);\n      return function () {\n        observer.disconnect();\n      };\n    } else {\n      fn(target);\n    }\n  }, [targetRef]);\n}"]},"metadata":{},"sourceType":"module"}