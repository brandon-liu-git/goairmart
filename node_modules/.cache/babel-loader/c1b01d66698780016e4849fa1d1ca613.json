{"ast":null,"code":"import { useRef } from 'react';\nvar MIN_DISTANCE = 10;\n\nfunction getDirection(x, y) {\n  if (x > y && x > MIN_DISTANCE) {\n    return 'horizontal';\n  }\n\n  if (y > x && y > MIN_DISTANCE) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport function useTouch() {\n  var startX = useRef(0);\n  var startY = useRef(0);\n  var deltaX = useRef(0);\n  var deltaY = useRef(0);\n  var offsetX = useRef(0);\n  var offsetY = useRef(0);\n  var direction = useRef('');\n\n  var isVertical = function isVertical() {\n    return direction.current === 'vertical';\n  };\n\n  var isHorizontal = function isHorizontal() {\n    return direction.current === 'horizontal';\n  };\n\n  var reset = function reset() {\n    deltaX.current = 0;\n    deltaY.current = 0;\n    offsetX.current = 0;\n    offsetY.current = 0;\n    direction.current = '';\n  };\n\n  var start = function start(event) {\n    reset();\n    startX.current = event.touches[0].clientX;\n    startY.current = event.touches[0].clientY;\n  };\n\n  var move = function move(event) {\n    var touch = event.touches[0]; // Fix: Safari back will set clientX to negative number\n\n    deltaX.current = touch.clientX < 0 ? 0 : touch.clientX - startX.current;\n    deltaY.current = touch.clientY - startY.current;\n    offsetX.current = Math.abs(deltaX.current);\n    offsetY.current = Math.abs(deltaY.current);\n\n    if (!direction.current) {\n      direction.current = getDirection(offsetX.current, offsetY.current);\n    }\n  };\n\n  return {\n    move: move,\n    start: start,\n    reset: reset,\n    startX: startX,\n    startY: startY,\n    deltaX: deltaX,\n    deltaY: deltaY,\n    offsetX: offsetX,\n    offsetY: offsetY,\n    direction: direction,\n    isVertical: isVertical,\n    isHorizontal: isHorizontal\n  };\n}","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/antd-mobile/es/utils/use-touch.js"],"names":["useRef","MIN_DISTANCE","getDirection","x","y","useTouch","startX","startY","deltaX","deltaY","offsetX","offsetY","direction","isVertical","current","isHorizontal","reset","start","event","touches","clientX","clientY","move","touch","Math","abs"],"mappings":"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","sourcesContent":["import { useRef } from 'react';\nvar MIN_DISTANCE = 10;\n\nfunction getDirection(x, y) {\n  if (x > y && x > MIN_DISTANCE) {\n    return 'horizontal';\n  }\n\n  if (y > x && y > MIN_DISTANCE) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport function useTouch() {\n  var startX = useRef(0);\n  var startY = useRef(0);\n  var deltaX = useRef(0);\n  var deltaY = useRef(0);\n  var offsetX = useRef(0);\n  var offsetY = useRef(0);\n  var direction = useRef('');\n\n  var isVertical = function isVertical() {\n    return direction.current === 'vertical';\n  };\n\n  var isHorizontal = function isHorizontal() {\n    return direction.current === 'horizontal';\n  };\n\n  var reset = function reset() {\n    deltaX.current = 0;\n    deltaY.current = 0;\n    offsetX.current = 0;\n    offsetY.current = 0;\n    direction.current = '';\n  };\n\n  var start = function start(event) {\n    reset();\n    startX.current = event.touches[0].clientX;\n    startY.current = event.touches[0].clientY;\n  };\n\n  var move = function move(event) {\n    var touch = event.touches[0]; // Fix: Safari back will set clientX to negative number\n\n    deltaX.current = touch.clientX < 0 ? 0 : touch.clientX - startX.current;\n    deltaY.current = touch.clientY - startY.current;\n    offsetX.current = Math.abs(deltaX.current);\n    offsetY.current = Math.abs(deltaY.current);\n\n    if (!direction.current) {\n      direction.current = getDirection(offsetX.current, offsetY.current);\n    }\n  };\n\n  return {\n    move: move,\n    start: start,\n    reset: reset,\n    startX: startX,\n    startY: startY,\n    deltaX: deltaX,\n    deltaY: deltaY,\n    offsetX: offsetX,\n    offsetY: offsetY,\n    direction: direction,\n    isVertical: isVertical,\n    isHorizontal: isHorizontal\n  };\n}"]},"metadata":{},"sourceType":"module"}