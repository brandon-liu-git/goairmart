{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n/* eslint-disable react-hooks/rules-of-hooks */\n\n\nimport { useRef, useContext } from 'react';\nimport useAsync from './useAsync';\nimport useLoadMore from './useLoadMore';\nimport usePaginated from './usePaginated';\nimport ConfigContext from './configContext';\n\nfunction useRequest(service, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var contextConfig = useContext(ConfigContext);\n\n  var finalOptions = __assign(__assign({}, contextConfig), options);\n\n  var paginated = finalOptions.paginated,\n      loadMore = finalOptions.loadMore,\n      requestMethod = finalOptions.requestMethod;\n  var paginatedRef = useRef(paginated);\n  var loadMoreRef = useRef(loadMore);\n\n  if (paginatedRef.current !== paginated) {\n    throw Error('You should not modify the paginated of options');\n  }\n\n  if (loadMoreRef.current !== loadMore) {\n    throw Error('You should not modify the loadMore of options');\n  }\n\n  paginatedRef.current = paginated;\n  loadMoreRef.current = loadMore; // @ts-ignore\n\n  var fetchProxy = function fetchProxy() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // @ts-ignore\n\n\n    return fetch.apply(void 0, __spread(args)).then(function (res) {\n      if (res.ok) {\n        return res.json();\n      }\n\n      throw new Error(res.statusText);\n    });\n  };\n\n  var finalRequestMethod = requestMethod || fetchProxy;\n  var promiseService;\n\n  switch (typeof service) {\n    case 'string':\n      promiseService = function promiseService() {\n        return finalRequestMethod(service);\n      };\n\n      break;\n\n    case 'object':\n      var url_1 = service.url,\n          rest_1 = __rest(service, [\"url\"]);\n\n      promiseService = function promiseService() {\n        return requestMethod ? requestMethod(service) : fetchProxy(url_1, rest_1);\n      };\n\n      break;\n\n    default:\n      promiseService = function promiseService() {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return new Promise(function (resolve, reject) {\n          var s = service.apply(void 0, __spread(args));\n          var fn = s;\n\n          if (!s.then) {\n            switch (typeof s) {\n              case 'string':\n                fn = finalRequestMethod(s);\n                break;\n\n              case 'object':\n                var url_2 = s.url,\n                    rest_2 = __rest(s, [\"url\"]);\n\n                fn = requestMethod ? requestMethod(s) : fetchProxy(url_2, rest_2);\n                break;\n            }\n          }\n\n          fn.then(resolve)[\"catch\"](reject);\n        });\n      };\n\n  }\n\n  if (loadMore) {\n    return useLoadMore(promiseService, finalOptions);\n  }\n\n  if (paginated) {\n    return usePaginated(promiseService, finalOptions);\n  }\n\n  return useAsync(promiseService, finalOptions);\n}\n\nvar UseRequestProvider = ConfigContext.Provider; // UseAPIProvider 已经废弃，此处为了兼容 umijs 插件 plugin-request\n\nvar UseAPIProvider = UseRequestProvider;\nexport { useAsync, usePaginated, useLoadMore, UseRequestProvider, UseAPIProvider };\nexport default useRequest;","map":{"version":3,"sources":["/Users/brandonliu/Project/goairmart/antd-demo/node_modules/@ahooksjs/use-request/es/index.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__read","o","m","Symbol","iterator","r","ar","next","done","push","value","error","__spread","concat","useRef","useContext","useAsync","useLoadMore","usePaginated","ConfigContext","useRequest","service","options","contextConfig","finalOptions","paginated","loadMore","requestMethod","paginatedRef","loadMoreRef","current","Error","fetchProxy","args","_i","fetch","then","res","ok","json","statusText","finalRequestMethod","promiseService","url_1","url","rest_1","Promise","resolve","reject","fn","url_2","rest_2","UseRequestProvider","Provider","UseAPIProvider"],"mappings":"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","sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n/* eslint-disable react-hooks/rules-of-hooks */\n\n\nimport { useRef, useContext } from 'react';\nimport useAsync from './useAsync';\nimport useLoadMore from './useLoadMore';\nimport usePaginated from './usePaginated';\nimport ConfigContext from './configContext';\n\nfunction useRequest(service, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var contextConfig = useContext(ConfigContext);\n\n  var finalOptions = __assign(__assign({}, contextConfig), options);\n\n  var paginated = finalOptions.paginated,\n      loadMore = finalOptions.loadMore,\n      requestMethod = finalOptions.requestMethod;\n  var paginatedRef = useRef(paginated);\n  var loadMoreRef = useRef(loadMore);\n\n  if (paginatedRef.current !== paginated) {\n    throw Error('You should not modify the paginated of options');\n  }\n\n  if (loadMoreRef.current !== loadMore) {\n    throw Error('You should not modify the loadMore of options');\n  }\n\n  paginatedRef.current = paginated;\n  loadMoreRef.current = loadMore; // @ts-ignore\n\n  var fetchProxy = function fetchProxy() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // @ts-ignore\n\n\n    return fetch.apply(void 0, __spread(args)).then(function (res) {\n      if (res.ok) {\n        return res.json();\n      }\n\n      throw new Error(res.statusText);\n    });\n  };\n\n  var finalRequestMethod = requestMethod || fetchProxy;\n  var promiseService;\n\n  switch (typeof service) {\n    case 'string':\n      promiseService = function promiseService() {\n        return finalRequestMethod(service);\n      };\n\n      break;\n\n    case 'object':\n      var url_1 = service.url,\n          rest_1 = __rest(service, [\"url\"]);\n\n      promiseService = function promiseService() {\n        return requestMethod ? requestMethod(service) : fetchProxy(url_1, rest_1);\n      };\n\n      break;\n\n    default:\n      promiseService = function promiseService() {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return new Promise(function (resolve, reject) {\n          var s = service.apply(void 0, __spread(args));\n          var fn = s;\n\n          if (!s.then) {\n            switch (typeof s) {\n              case 'string':\n                fn = finalRequestMethod(s);\n                break;\n\n              case 'object':\n                var url_2 = s.url,\n                    rest_2 = __rest(s, [\"url\"]);\n\n                fn = requestMethod ? requestMethod(s) : fetchProxy(url_2, rest_2);\n                break;\n            }\n          }\n\n          fn.then(resolve)[\"catch\"](reject);\n        });\n      };\n\n  }\n\n  if (loadMore) {\n    return useLoadMore(promiseService, finalOptions);\n  }\n\n  if (paginated) {\n    return usePaginated(promiseService, finalOptions);\n  }\n\n  return useAsync(promiseService, finalOptions);\n}\n\nvar UseRequestProvider = ConfigContext.Provider; // UseAPIProvider 已经废弃，此处为了兼容 umijs 插件 plugin-request\n\nvar UseAPIProvider = UseRequestProvider;\nexport { useAsync, usePaginated, useLoadMore, UseRequestProvider, UseAPIProvider };\nexport default useRequest;"]},"metadata":{},"sourceType":"module"}